{"version":3,"sources":["../../ptt-client/dist/utils/query-builder/SelectQueryBuilder.js","../../ptt-client/dist/socket.js","../../ptt-client/dist/sites/ptt/config.js","../../ptt-client/dist/index.js","../../ptt-client/dist/sites/ptt/index.js","../../ptt-client/dist/sites/ptt/bot.js","../../ptt-client/dist/utils/decode.js","../../ptt-client/dist/utils/encode.js","../../ptt-client/dist/utils/keymap.js","../../ptt-client/dist/sites/ptt/model/article.js","../../ptt-client/dist/utils/query-builder/QueryBuilder.js","../../ptt-client/dist/sites/ptt/model/board.js","../../ptt-client/dist/sites/ptt/model/mail.js","components/UserContext.js","components/BotContext.js","components/usePrev.js","components/Login.js","components/BoardItem.js","components/ArticleBoardInfoContext.js","components/BoardDisplay.js","components/BoardSelect.js","components/BoardArea.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/throttle-debounce/dist/index.esm.js","components/ArticleDisplay.js","components/ArticleSelect.js","components/ArticleItem.js","components/ArticleArea.js","components/SearchBar.js","components/Main.js","App.js","serviceWorker.js","index.js","../../ptt-client/dist/sites/ptt/model/index.js","../../ptt-client/dist/utils/index.js","../../ptt-client/dist/utils/char.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","SelectQueryBuilder","_classCallCheck2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","_QueryBuilder","_super","_len","length","args","Array","_key","concat","QueryBuilder","_toConsumableArray2","_createClass2","_assertThisInitialized2","_defineProperty2","_default","_EventEmitter","Socket","config","_this","_config","key","socket","_this2","WebSocket","Error","options","origin","url","addEventListener","emit","bind","timeoutHandler","data","binaryType","_ref","_data","currData","clearTimeout","push","Uint8Array","setTimeout","timeout","byteLength","blobSize","_socket","close","str","readyState","send","name","charset","protocol","preventIdleTimeout","terminal","columns","rows","enumerable","get","_ptt","_bot","_typeof2","_wrapNativeSuper2","_regenerator","_asyncToGenerator2","_eventemitter","_sleepPromise","_terminal","_utils","_char","_wrapRegExp","re","groups","BabelRegExp","undefined","_RegExp","RegExp","_groups","WeakMap","flags","set","buildGroups","g","keys","reduce","create","exec","Symbol","replace","substitution","_","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","target","i","source","forEach","getOwnPropertyDescriptors","defineProperties","Bot","n","term","state","getLine","init","lines","_this$term$state$getL","attr","assign","line","map","join","_init","mark","_callee","wrap","_context","prev","next","_state","initialState","setMode","currentCharset","t0","toLowerCase","abrupt","connect","forwardEvents","on","closeEvent","login","_len2","_key2","then","decode","includes","msg","write","err","stop","_getContent","_callee2","sentPgDown","lastLine","_i","j","_context2","console","log","keymap","PgDown","pop","Home","_getLines","_callee3","_context3","getContent","sent","_this3","preventIdle","Promise","resolve","reject","autoResolveHandler","cb","message","encode","once","removeListener","info","_this4","preventIdleHandler","_callee4","_context4","CtrlU","ArrowLeft","_login","_callee5","username","password","kick","ret","_args5","_context5","Enter","checkLogin","position","boardname","_x","_x2","_logout","_callee6","_context6","_checkLogin","_callee7","_context7","screen","_x3","substrWidth","trim","model","select","_getMails","_callee8","offset","mails","mail","_args8","_context8","enterMail","Math","max","End","sn","date","author","status","title","enterIndex","reverse","_getMail","_callee9","_context9","checkArticleWithHeader","timestamp","getLines","_x4","_enterIndex","_callee10","_context10","repeat","_enterBoardByName","_callee11","_context11","currentBoardname","_x5","_enterByOffset","_callee13","offsets","_this5","_args13","_context13","_ref2","_callee12","lastOffset","_context12","_x6","_enterBoardByOffset","_callee14","_args14","_context14","enterByOffset","_enterFavorite","_callee15","_args15","_context15","_enterMail","_callee16","_context16","match","_uaoJs","Buffer","from","decodeSync","String","fromCharCode","TypeError","buffer","encodeSync","ArrowRight","ArrowUp","ArrowDown","PgUp","Backspace","CtrlC","CtrlP","CtrlZ","ArticleSelectQueryBuilder","WhereType","Article","_SelectQueryBuilder2","_content","content","slice","warn","article","id","fixed","bot","_SelectQueryBuilder","type","condition","Boardname","Id","Push","wheres","Author","Title","_get","articles","_i2","enterBoardByName","getQuery","fromLine","_getOne","hasHeader","BoardSelectQueryBuilder","Entry","Board","board","unread","category","flag","folder","divider","users","admin","Class","entry","Prefix","prefix","Offset","Offsets","found","boards","stopLoop","_line","_board","getByPrefix","Favorite","Hot","enterBoardByOffset","enterFavorite","fromClassLine","res","_getByPrefix","resultLine0","col","row","width","searchStr","searchInput","indexOf","MailSelectQueryBuilder","Mail","cookies","Cookies","constate","useState","user","setUser","UserProvider","useUserContext","ptt","Ptt","botState","setBotState","prevBotState","ref","useRef","useEffect","current","usePrev","busy","arg","a","executeCommand","command","query","getOne","BotProvider","useBotContext","useStyles","makeStyles","theme","root","justifyContent","alignItems","flexDirection","paper","margin","spacing","display","paperlogging","minWidth","height","marginTop","zIndex","drawer","form","submit","signin","backdrop","color","circle","marginRight","Login","classes","BotContext","useForm","register","handleSubmit","onSubmit","preventDefault","myUser","loginCallback","useCallback","setOpenForm","setOpenLoadingCircle","setOpenBackDrop","setOpenErrorBar","openBackDrop","openErrorBar","openLoadingCircle","openForm","Alert","props","elevation","variant","tryLogin","Grid","container","component","className","Paper","CircularProgress","Typography","Backdrop","open","CssBaseline","TextField","required","fullWidth","label","autoComplete","autoFocus","inputRef","FormControlLabel","control","Checkbox","Button","Snackbar","autoHideDuration","onClose","event","reason","severity","BoardItem","item","handleClick","where","setArticleList","setBoardName","setIndex","ListItem","button","onClick","style","ListItemText","primary","secondary","ListItemIcon","boardName","articleContent","setArticleContent","articleList","index","ArticleBoardInfoProvider","useArticleBoardInfoContext","BoardDisplay","maxHeight","overflow","skeleton","fontSize","list","padding","listItems","setListItems","selectedBoard","getBoardCallback","lis","getBoard","count","List","BoardSelect","selectedValue","setSelectedValue","setSelectedBoard","Tabs","indicatorColor","textColor","onChange","v","Tab","BoardArea","borderRight","palette","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","t","s","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","wrapper","self","elapsed","now","clear","cancel","__","ArticleDisplay","top","borderBottom","flexWrap","paddingLeft","goback","titleText","alignSelf","flexBasis","flexGrow","flexShrink","paddingRight","comment","commentlist","paddingTop","contentlist","commentlist_item","commentlist_type","commentlist_author","commentlist_text","commentlist_timestamp","React","createRef","scrollTop","IconButton","ip","disableGutters","lit","lit_text","genContentList","floor","text","genCommentList","ArticleSelect","right","backgroundColor","articleItems","setArticleItems","parseArticle","startsWith","substring","commentLine","firstColon","textAlign","ArticleItem","scrollableTarget","dataLength","res_reduced","rtn","hasMore","loader","size","loading","endMessage","ArticleArea","onChangeIndex","toolbar","toolbarTitle","flex","toolbarSecondary","overflowX","toolbarLink","search","borderRadius","shape","fade","searchIcon","pointerEvents","inputRoot","inputInput","transition","transitions","breakpoints","up","fontFamily","SearchBar","Fragment","Toolbar","InputBase","placeholder","input","inputProps","createMuiTheme","typography","body1","body2","h5","fontWeight","Main","ThemeProvider","Container","maxWidth","xs","Hidden","xsDown","sm","direction","App","Component","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","_article","_mail","_decode","_encode","_keymap","dbcswidth","getWidth","indexOfWidth","widthType","startWidth","ignoreWidth","start","prefixSpace","suffixSpace","substr","min","_wcwidth","split","sum","c","charCodeAt"],"mappings":"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","file":"static/js/main.27e12c73.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectQueryBuilder = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _QueryBuilder2 = require(\"./QueryBuilder\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar SelectQueryBuilder = /*#__PURE__*/function (_QueryBuilder) {\n  (0, _inherits2[\"default\"])(SelectQueryBuilder, _QueryBuilder);\n\n  var _super = _createSuper(SelectQueryBuilder);\n\n  function SelectQueryBuilder() {\n    (0, _classCallCheck2[\"default\"])(this, SelectQueryBuilder);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _super.call.apply(_super, [this].concat(args));\n  }\n\n  return SelectQueryBuilder;\n}(_QueryBuilder2.QueryBuilder);\n\nexports.SelectQueryBuilder = SelectQueryBuilder;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Socket = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inherits2[\"default\"])(Socket, _EventEmitter);\n\n  var _super = _createSuper(Socket);\n\n  function Socket(config) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Socket);\n    _this = _super.call(this);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_config\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_socket\", void 0);\n    _this._config = config;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Socket, [{\n    key: \"connect\",\n    value: function connect() {\n      var _this2 = this;\n\n      var socket;\n\n      if (typeof WebSocket === 'undefined') {\n        throw new Error(\"'WebSocket' is undefined. Do you include any websocket polyfill?\");\n      } else {\n        var options = {};\n\n        if (this._config.origin) {\n          options.origin = this._config.origin;\n        }\n\n        socket = new WebSocket(this._config.url, options);\n      }\n\n      socket.addEventListener('open', this.emit.bind(this, 'connect'));\n      socket.addEventListener('close', this.emit.bind(this, 'disconnect'));\n      socket.addEventListener('error', this.emit.bind(this, 'error'));\n      var data = [];\n      var timeoutHandler;\n      socket.binaryType = 'arraybuffer';\n      socket.addEventListener('message', function (_ref) {\n        var _data;\n\n        var currData = _ref.data;\n        clearTimeout(timeoutHandler);\n\n        (_data = data).push.apply(_data, (0, _toConsumableArray2[\"default\"])(new Uint8Array(currData)));\n\n        timeoutHandler = setTimeout(function () {\n          _this2.emit('message', data);\n\n          data = [];\n        }, _this2._config.timeout);\n\n        if (currData.byteLength > _this2._config.blobSize) {\n          throw new Error(\"Receive message length(\".concat(currData.byteLength, \") greater than buffer size(\").concat(_this2._config.blobSize, \")\"));\n        }\n      });\n      this._socket = socket;\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      var socket = this._socket;\n      socket.close();\n    }\n  }, {\n    key: \"send\",\n    value: function send(str) {\n      var socket = this._socket;\n\n      if (socket.readyState === 1\n      /* OPEN */\n      ) {\n          socket.send(str);\n        }\n    }\n  }]);\n  return Socket;\n}(_eventemitter[\"default\"]);\n\nvar _default = Socket;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar config = {\n  name: 'PTT',\n  url: 'wss://ws.ptt.cc/bbs',\n  charset: 'utf8',\n  origin: 'app://pcman',\n  protocol: 'websocket',\n  timeout: 200,\n  blobSize: 1024,\n  preventIdleTimeout: 30,\n  terminal: {\n    columns: 80,\n    rows: 24\n  }\n};\nvar _default = config;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _ptt[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"ptt\", {\n  enumerable: true,\n  get: function get() {\n    return _ptt[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"Config\", {\n  enumerable: true,\n  get: function get() {\n    return _config[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"Socket\", {\n  enumerable: true,\n  get: function get() {\n    return _socket[\"default\"];\n  }\n});\n\nvar _ptt = _interopRequireDefault(require(\"./sites/ptt\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _socket = _interopRequireDefault(require(\"./socket\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _bot[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"bot\", {\n  enumerable: true,\n  get: function get() {\n    return _bot[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"config\", {\n  enumerable: true,\n  get: function get() {\n    return _config[\"default\"];\n  }\n});\n\nvar _bot = _interopRequireDefault(require(\"./bot\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nvar _sleepPromise = _interopRequireDefault(require(\"sleep-promise\"));\n\nvar _terminal = _interopRequireDefault(require(\"terminal.js\"));\n\nvar _socket = _interopRequireDefault(require(\"../../socket\"));\n\nvar _utils = require(\"../../utils\");\n\nvar _char = require(\"../../utils/char\");\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _wrapRegExp(re, groups) { _wrapRegExp = function _wrapRegExp(re, groups) { return new BabelRegExp(re, undefined, groups); }; var _RegExp = (0, _wrapNativeSuper2[\"default\"])(RegExp); var _super = RegExp.prototype; var _groups = new WeakMap(); function BabelRegExp(re, flags, groups) { var _this = _RegExp.call(this, re, flags); _groups.set(_this, groups || _groups.get(re)); return _this; } (0, _inherits2[\"default\"])(BabelRegExp, _RegExp); BabelRegExp.prototype.exec = function (str) { var result = _super.exec.call(this, str); if (result) result.groups = buildGroups(result, this); return result; }; BabelRegExp.prototype[Symbol.replace] = function (str, substitution) { if (typeof substitution === \"string\") { var groups = _groups.get(this); return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) { return \"$\" + groups[name]; })); } else if (typeof substitution === \"function\") { var _this = this; return _super[Symbol.replace].call(this, str, function () { var args = []; args.push.apply(args, arguments); if ((0, _typeof2[\"default\"])(args[args.length - 1]) !== \"object\") { args.push(buildGroups(args, _this)); } return substitution.apply(this, args); }); } else { return _super[Symbol.replace].call(this, str, substitution); } }; function buildGroups(result, re) { var g = _groups.get(re); return Object.keys(g).reduce(function (groups, name) { groups[name] = result[g[name]]; return groups; }, Object.create(null)); } return _wrapRegExp.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Bot = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inherits2[\"default\"])(Bot, _EventEmitter);\n\n  var _super = _createSuper(Bot);\n\n  (0, _createClass2[\"default\"])(Bot, [{\n    key: \"line\",\n    get: function get() {\n      var lines = [];\n\n      for (var i = 0; i < this.term.state.rows; i++) {\n        var _this$term$state$getL = this.term.state.getLine(i),\n            str = _this$term$state$getL.str,\n            attr = _this$term$state$getL.attr;\n\n        lines.push({\n          str: str,\n          attr: Object.assign({}, attr)\n        });\n      }\n\n      return lines;\n    }\n  }, {\n    key: \"screen\",\n    get: function get() {\n      return this.line.map(function (line) {\n        return line.str;\n      }).join(\"\\n\");\n    }\n  }]);\n\n  function Bot(config) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Bot);\n    _this = _super.call(this);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"config\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"term\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_state\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"currentCharset\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"socket\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"preventIdleHandler\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getLine\", function (n) {\n      return _this.term.state.getLine(n);\n    });\n    _this.config = _objectSpread(_objectSpread({}, _config[\"default\"]), config);\n\n    _this.init();\n\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Bot, [{\n    key: \"init\",\n    value: function () {\n      var _init = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        var _this2 = this;\n\n        var config, socket;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = this.config;\n                this.term = new _terminal[\"default\"](config.terminal);\n                this._state = _objectSpread({}, Bot.initialState);\n                this.term.state.setMode(\"stringWidth\", \"dbcs\");\n                this.currentCharset = \"big5\";\n                _context.t0 = config.protocol.toLowerCase();\n                _context.next = _context.t0 === \"websocket\" ? 8 : _context.t0 === \"ws\" ? 8 : _context.t0 === \"wss\" ? 8 : _context.t0 === \"telnet\" ? 9 : _context.t0 === \"ssh\" ? 9 : 9;\n                break;\n\n              case 8:\n                return _context.abrupt(\"break\", 11);\n\n              case 9:\n                throw new Error(\"Invalid protocol: \".concat(config.protocol));\n\n              case 11:\n                socket = new _socket[\"default\"](config);\n                socket.connect();\n                Bot.forwardEvents.forEach(function (e) {\n                  socket.on(e, _this2.emit.bind(_this2, e));\n                });\n                socket.on(\"connect\", function () {\n                  _this2._state.connect = true;\n\n                  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                  }\n\n                  _this2.emit.apply(_this2, [\"connect\"].concat(args));\n\n                  _this2.emit(\"stateChange\", _this2.state);\n                }).on(\"disconnect\", function (closeEvent) {\n                  _this2._state.connect = false;\n                  _this2._state.login = false;\n\n                  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                    args[_key2 - 1] = arguments[_key2];\n                  }\n\n                  _this2.emit.apply(_this2, [\"disconnect\", closeEvent].concat(args));\n\n                  _this2.emit(\"stateChange\", _this2.state); // try to reconnect\n\n\n                  (0, _sleepPromise[\"default\"])(1000).then(function () {\n                    _this2.socket.connect();\n                  });\n                }).on(\"message\", function (data) {\n                  if (_this2.currentCharset !== _this2.config.charset && !_this2.state.login && (0, _utils.decode)(data, \"utf8\").includes(\"登入中，請稍候...\")) {\n                    _this2.currentCharset = _this2.config.charset;\n                  }\n\n                  var msg = (0, _utils.decode)(data, _this2.currentCharset);\n\n                  _this2.term.write(msg);\n\n                  _this2.emit(\"redraw\", _this2.term.toString());\n                }).on(\"error\", function (err) {});\n                this.socket = socket;\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"getContent\",\n    // async getContent(): Promise<Line[]> {\n    // \tconst lines = [];\n    // \t// page at first\n    // \tfor (let i = 0; i < 22; i++) {\n    // \t\tlines.push(this.line[i]);\n    // \t}\n    // \twhile (\n    // \t\t!this.line[23].str.includes(\"100%\") &&\n    // \t\t!this.line[23].str.includes(\"此文章無內容\")\n    // \t) {\n    // \t\tlines.push(this.line[22]);\n    // \t\tawait this.send(key.PgDown);\n    // \t}\n    // \tlines.push(this.line[22]);\n    // \tawait this.send(key.Home);\n    // \treturn lines;\n    // }\n    value: function () {\n      var _getContent = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var lines, sentPgDown, i, lastLine, _i, j;\n\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                lines = [];\n                console.log(this.line);\n                lines.push(this.line[0]);\n                sentPgDown = false; // var t0 = performance.now()\n\n              case 4:\n                if (!(!this.line[23].str.includes('100%') && !this.line[23].str.includes('此文章無內容'))) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                // var t2 = performance.now()\n                for (i = 1; i < 23; i++) {\n                  lines.push(this.line[i]);\n                } // var t3 = performance.now()\n                // console.log('lines.push : ', t3-t2 + 'ms')\n                // t3 = performance.now()\n\n\n                _context2.next = 8;\n                return this.send(_utils.keymap.PgDown);\n\n              case 8:\n                // var t4 = performance.now()\n                // console.log('await send key pgdown : ', t4-t3 + 'ms')\n                // console.log(this.line);\n                sentPgDown = true;\n                _context2.next = 4;\n                break;\n\n              case 11:\n                // var t1 = performance.now()\n                // console.log('while loop : ', t1-t0 + 'ms')\n                lastLine = lines[lines.length - 1];\n                _i = 0;\n\n              case 13:\n                if (!(_i < 23)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                if (!(this.line[_i].str === lastLine.str)) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                for (j = _i + 1; j < 23; j++) {\n                  lines.push(this.line[j]);\n                }\n\n                return _context2.abrupt(\"break\", 20);\n\n              case 17:\n                _i++;\n                _context2.next = 13;\n                break;\n\n              case 20:\n                while (lines.length > 0 && lines[lines.length - 1].str === '') {\n                  lines.pop();\n                }\n\n                if (!sentPgDown) {\n                  _context2.next = 24;\n                  break;\n                }\n\n                _context2.next = 24;\n                return this.send(_utils.keymap.Home);\n\n              case 24:\n                return _context2.abrupt(\"return\", lines);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getContent() {\n        return _getContent.apply(this, arguments);\n      }\n\n      return getContent;\n    }()\n    /**\n     * @deprecated\n     */\n\n  }, {\n    key: \"getLines\",\n    value: function () {\n      var _getLines = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n        var lines;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getContent();\n\n              case 2:\n                lines = _context3.sent;\n                return _context3.abrupt(\"return\", lines.map(function (line) {\n                  return line.str;\n                }));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getLines() {\n        return _getLines.apply(this, arguments);\n      }\n\n      return getLines;\n    }()\n  }, {\n    key: \"send\",\n    value: function send(msg) {\n      var _this3 = this;\n\n      if (this.config.preventIdleTimeout) {\n        this.preventIdle(this.config.preventIdleTimeout);\n      }\n\n      return new Promise(function (resolve, reject) {\n        var autoResolveHandler;\n\n        var cb = function cb(message) {\n          clearTimeout(autoResolveHandler);\n          resolve(true);\n        };\n\n        if (_this3.state.connect) {\n          if (msg.length > 0) {\n            _this3.socket.send((0, _utils.encode)(msg, _this3.currentCharset));\n\n            _this3.once(\"message\", cb);\n\n            autoResolveHandler = setTimeout(function () {\n              _this3.removeListener(\"message\", cb);\n\n              resolve(false);\n            }, _this3.config.timeout * 10);\n          } else {\n            console.info(\"Sending message with 0-length. Skipped.\");\n            resolve(true);\n          }\n        } else {\n          reject();\n        }\n      });\n    }\n  }, {\n    key: \"preventIdle\",\n    value: function preventIdle(timeout) {\n      var _this4 = this;\n\n      clearTimeout(this.preventIdleHandler);\n\n      if (this.state.login) {\n        this.preventIdleHandler = setTimeout( /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n          return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return _this4.send(_utils.keymap.CtrlU);\n\n                case 2:\n                  _context4.next = 4;\n                  return _this4.send(_utils.keymap.ArrowLeft);\n\n                case 4:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        })), timeout * 1000);\n      }\n    }\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(username, password) {\n        var kick,\n            ret,\n            state,\n            _args5 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                kick = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : true;\n\n                if (!this.state.login) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 3:\n                username = username.replace(/,/g, \"\");\n\n                if (this.config.charset === \"utf8\") {\n                  username += \",\";\n                }\n\n                _context5.next = 7;\n                return this.send(\"\".concat(username).concat(_utils.keymap.Enter).concat(password).concat(_utils.keymap.Enter));\n\n              case 7:\n                _context5.next = 9;\n                return this.checkLogin(kick);\n\n              case 9:\n                ret = _context5.sent;\n\n                if (ret) {\n                  state = this._state;\n                  state.login = true;\n                  state.position = {\n                    boardname: \"\"\n                  };\n                  this.emit(\"stateChange\", this.state);\n                }\n\n                return _context5.abrupt(\"return\", ret);\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function login(_x, _x2) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6() {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (this.state.login) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 2:\n                _context6.next = 4;\n                return this.send(\"G\".concat(_utils.keymap.Enter, \"Y\").concat(_utils.keymap.Enter));\n\n              case 4:\n                this._state.login = false;\n                this.emit(\"stateChange\", this.state);\n                this.send(_utils.keymap.Enter);\n                return _context6.abrupt(\"return\", true);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"checkLogin\",\n    value: function () {\n      var _checkLogin = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(kick) {\n        var state, lines;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(this.line[21].str.includes(\"密碼不對或無此帳號\") || this.line[21].str.includes(\"請重新輸入\"))) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                this.emit(\"login.failed\");\n                return _context7.abrupt(\"return\", false);\n\n              case 5:\n                if (!this.line[23].str.includes(\"請稍後再試\")) {\n                  _context7.next = 10;\n                  break;\n                }\n\n                this.emit(\"login.failed\");\n                return _context7.abrupt(\"return\", false);\n\n              case 10:\n                if (!this.line[13].str.includes(\"亂踹密碼會留下記錄喔\")) {\n                  _context7.next = 15;\n                  break;\n                }\n\n                this.emit(\"login.failed\");\n                return _context7.abrupt(\"return\", false);\n\n              case 15:\n                state = 0;\n\n              case 16:\n                if (!true) {\n                  _context7.next = 66;\n                  break;\n                }\n\n                _context7.next = 19;\n                return (0, _sleepPromise[\"default\"])(400);\n\n              case 19:\n                lines = this.line;\n\n                if (!lines[22].str.includes(\"登入中，請稍候...\")) {\n                  _context7.next = 23;\n                  break;\n                }\n\n                _context7.next = 64;\n                break;\n\n              case 23:\n                if (!lines[22].str.includes(\"您想刪除其他重複登入的連線嗎\")) {\n                  _context7.next = 32;\n                  break;\n                }\n\n                if (!(state === 1)) {\n                  _context7.next = 26;\n                  break;\n                }\n\n                return _context7.abrupt(\"continue\", 16);\n\n              case 26:\n                _context7.next = 28;\n                return this.send(\"\".concat(kick ? \"y\" : \"n\").concat(_utils.keymap.Enter));\n\n              case 28:\n                state = 1;\n                return _context7.abrupt(\"continue\", 16);\n\n              case 32:\n                if (!lines[23].str.includes(\"請勿頻繁登入以免造成系統過度負荷\")) {\n                  _context7.next = 40;\n                  break;\n                }\n\n                if (!(state === 2)) {\n                  _context7.next = 35;\n                  break;\n                }\n\n                return _context7.abrupt(\"continue\", 16);\n\n              case 35:\n                _context7.next = 37;\n                return this.send(\"\".concat(_utils.keymap.Enter));\n\n              case 37:\n                state = 2;\n                _context7.next = 64;\n                break;\n\n              case 40:\n                if (!lines[23].str.includes(\"您要刪除以上錯誤嘗試的記錄嗎\")) {\n                  _context7.next = 48;\n                  break;\n                }\n\n                if (!(state === 3)) {\n                  _context7.next = 43;\n                  break;\n                }\n\n                return _context7.abrupt(\"continue\", 16);\n\n              case 43:\n                _context7.next = 45;\n                return this.send(\"y\".concat(_utils.keymap.Enter));\n\n              case 45:\n                state = 3;\n                _context7.next = 64;\n                break;\n\n              case 48:\n                if (!lines[23].str.includes(\"按任意鍵繼續\")) {\n                  _context7.next = 53;\n                  break;\n                }\n\n                _context7.next = 51;\n                return this.send(\"\".concat(_utils.keymap.Enter));\n\n              case 51:\n                _context7.next = 64;\n                break;\n\n              case 53:\n                if (!(lines[22].str + lines[23].str).toLowerCase().includes(\"y/n\")) {\n                  _context7.next = 59;\n                  break;\n                }\n\n                console.info(\"Unknown login state: \\n\".concat(this.screen));\n                _context7.next = 57;\n                return this.send(\"y\".concat(_utils.keymap.Enter));\n\n              case 57:\n                _context7.next = 64;\n                break;\n\n              case 59:\n                if (!lines[23].str.includes(\"我是\")) {\n                  _context7.next = 63;\n                  break;\n                }\n\n                return _context7.abrupt(\"break\", 66);\n\n              case 63:\n                console.info(\"Unknown login state: \\n\".concat(this.screen));\n\n              case 64:\n                _context7.next = 16;\n                break;\n\n              case 66:\n                this.emit(\"login.success\");\n                return _context7.abrupt(\"return\", true);\n\n              case 68:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function checkLogin(_x3) {\n        return _checkLogin.apply(this, arguments);\n      }\n\n      return checkLogin;\n    }()\n    /**\n     * @deprecated\n     */\n\n  }, {\n    key: \"checkArticleWithHeader\",\n    value: function checkArticleWithHeader() {\n      var authorArea = (0, _char.substrWidth)(\"dbcs\", this.line[0].str, 0, 6).trim();\n      return authorArea === \"作者\";\n    }\n  }, {\n    key: \"select\",\n    value: function select(model) {\n      return model.select(this);\n    }\n    /**\n     * @deprecated\n     */\n\n  }, {\n    key: \"getMails\",\n    value: function () {\n      var _getMails = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8() {\n        var offset,\n            getLine,\n            mails,\n            i,\n            line,\n            mail,\n            _args8 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                offset = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : 0;\n                _context8.next = 3;\n                return this.enterMail();\n\n              case 3:\n                if (!(offset > 0)) {\n                  _context8.next = 7;\n                  break;\n                }\n\n                offset = Math.max(offset - 9, 1);\n                _context8.next = 7;\n                return this.send(\"\".concat(_utils.keymap.End).concat(_utils.keymap.End).concat(offset).concat(_utils.keymap.Enter));\n\n              case 7:\n                getLine = this.getLine;\n                mails = [];\n\n                for (i = 3; i <= 22; i++) {\n                  line = getLine(i).str;\n                  mail = {\n                    sn: +(0, _char.substrWidth)(\"dbcs\", line, 1, 5).trim(),\n                    date: (0, _char.substrWidth)(\"dbcs\", line, 9, 5).trim(),\n                    author: (0, _char.substrWidth)(\"dbcs\", line, 15, 12).trim(),\n                    status: (0, _char.substrWidth)(\"dbcs\", line, 30, 2).trim(),\n                    title: (0, _char.substrWidth)(\"dbcs\", line, 33).trim()\n                  };\n                  mails.push(mail);\n                }\n\n                _context8.next = 12;\n                return this.enterIndex();\n\n              case 12:\n                return _context8.abrupt(\"return\", mails.reverse());\n\n              case 13:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getMails() {\n        return _getMails.apply(this, arguments);\n      }\n\n      return getMails;\n    }()\n    /**\n     * @deprecated\n     */\n\n  }, {\n    key: \"getMail\",\n    value: function () {\n      var _getMail = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(sn) {\n        var getLine, hasHeader, mail;\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.enterMail();\n\n              case 2:\n                getLine = this.getLine;\n                _context9.next = 5;\n                return this.send(\"\".concat(sn).concat(_utils.keymap.Enter).concat(_utils.keymap.Enter));\n\n              case 5:\n                hasHeader = this.checkArticleWithHeader();\n                mail = {\n                  sn: sn,\n                  author: \"\",\n                  title: \"\",\n                  timestamp: \"\",\n                  lines: []\n                };\n\n                if (this.checkArticleWithHeader()) {\n                  mail.author = (0, _char.substrWidth)(\"dbcs\", getLine(0).str, 7, 50).trim();\n                  mail.title = (0, _char.substrWidth)(\"dbcs\", getLine(1).str, 7).trim();\n                  mail.timestamp = (0, _char.substrWidth)(\"dbcs\", getLine(2).str, 7).trim();\n                }\n\n                _context9.next = 10;\n                return this.getLines();\n\n              case 10:\n                mail.lines = _context9.sent;\n                _context9.next = 13;\n                return this.enterIndex();\n\n              case 13:\n                return _context9.abrupt(\"return\", mail);\n\n              case 14:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getMail(_x4) {\n        return _getMail.apply(this, arguments);\n      }\n\n      return getMail;\n    }()\n  }, {\n    key: \"enterIndex\",\n    value: function () {\n      var _enterIndex = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10() {\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.send(\"\".concat(_utils.keymap.ArrowLeft.repeat(10)));\n\n              case 2:\n                return _context10.abrupt(\"return\", true);\n\n              case 3:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function enterIndex() {\n        return _enterIndex.apply(this, arguments);\n      }\n\n      return enterIndex;\n    }()\n  }, {\n    key: \"enterBoardByName\",\n    value: function () {\n      var _enterBoardByName = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(boardname) {\n        return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return this.send(\"s\".concat(boardname).concat(_utils.keymap.Enter, \" \").concat(_utils.keymap.Home).concat(_utils.keymap.End));\n\n              case 2:\n                if (!(this.currentBoardname.toLowerCase() === boardname.toLowerCase())) {\n                  _context11.next = 8;\n                  break;\n                }\n\n                this._state.position.boardname = this.currentBoardname;\n                this.emit(\"stateChange\", this.state);\n                return _context11.abrupt(\"return\", true);\n\n              case 8:\n                _context11.next = 10;\n                return this.enterIndex();\n\n              case 10:\n                return _context11.abrupt(\"return\", false);\n\n              case 11:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function enterBoardByName(_x5) {\n        return _enterBoardByName.apply(this, arguments);\n      }\n\n      return enterBoardByName;\n    }()\n  }, {\n    key: \"enterByOffset\",\n    value: function () {\n      var _enterByOffset = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee13() {\n        var _this5 = this;\n\n        var offsets,\n            result,\n            _args13 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                offsets = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : [];\n                result = true;\n                offsets.forEach( /*#__PURE__*/function () {\n                  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee12(offset) {\n                    var i, lastOffset;\n                    return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n                      while (1) {\n                        switch (_context12.prev = _context12.next) {\n                          case 0:\n                            if (offset === 0) {\n                              result = false;\n                            }\n\n                            if (!(offset < 0)) {\n                              _context12.next = 15;\n                              break;\n                            }\n\n                            i = 22;\n\n                          case 3:\n                            if (!(i >= 3)) {\n                              _context12.next = 15;\n                              break;\n                            }\n\n                            lastOffset = (0, _char.substrWidth)(\"dbcs\", _this5.line[i].str, 3, 4).trim();\n\n                            if (!(lastOffset.length > 0)) {\n                              _context12.next = 8;\n                              break;\n                            }\n\n                            offset += +lastOffset + 1;\n                            return _context12.abrupt(\"break\", 15);\n\n                          case 8:\n                            lastOffset = (0, _char.substrWidth)(\"dbcs\", _this5.line[i].str, 15, 2).trim();\n\n                            if (!(lastOffset.length > 0)) {\n                              _context12.next = 12;\n                              break;\n                            }\n\n                            offset += +lastOffset + 1;\n                            return _context12.abrupt(\"break\", 15);\n\n                          case 12:\n                            i--;\n                            _context12.next = 3;\n                            break;\n\n                          case 15:\n                            if (offset < 0) {\n                              result = false;\n                            }\n\n                            if (result) {\n                              _context12.next = 18;\n                              break;\n                            }\n\n                            return _context12.abrupt(\"return\");\n\n                          case 18:\n                            _context12.next = 20;\n                            return _this5.send(\"\".concat(offset).concat(_utils.keymap.Enter.repeat(2), \" \").concat(_utils.keymap.Home).concat(_utils.keymap.End));\n\n                          case 20:\n                          case \"end\":\n                            return _context12.stop();\n                        }\n                      }\n                    }, _callee12);\n                  }));\n\n                  return function (_x6) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }());\n\n                if (!result) {\n                  _context13.next = 11;\n                  break;\n                }\n\n                this._state.position.boardname = this.currentBoardname;\n                this.emit(\"stateChange\", this.state);\n                _context13.next = 8;\n                return this.send(_utils.keymap.Home);\n\n              case 8:\n                return _context13.abrupt(\"return\", true);\n\n              case 11:\n                _context13.next = 13;\n                return this.enterIndex();\n\n              case 13:\n                return _context13.abrupt(\"return\", false);\n\n              case 14:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function enterByOffset() {\n        return _enterByOffset.apply(this, arguments);\n      }\n\n      return enterByOffset;\n    }()\n  }, {\n    key: \"enterBoardByOffset\",\n    value: function () {\n      var _enterBoardByOffset = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee14() {\n        var offsets,\n            _args14 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                offsets = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : [];\n                _context14.next = 3;\n                return this.send(\"C\".concat(_utils.keymap.Enter));\n\n              case 3:\n                _context14.next = 5;\n                return this.enterByOffset(offsets);\n\n              case 5:\n                return _context14.abrupt(\"return\", _context14.sent);\n\n              case 6:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function enterBoardByOffset() {\n        return _enterBoardByOffset.apply(this, arguments);\n      }\n\n      return enterBoardByOffset;\n    }()\n  }, {\n    key: \"enterFavorite\",\n    value: function () {\n      var _enterFavorite = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee15() {\n        var offsets,\n            _args15 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                offsets = _args15.length > 0 && _args15[0] !== undefined ? _args15[0] : [];\n                _context15.next = 3;\n                return this.send(\"F\".concat(_utils.keymap.Enter));\n\n              case 3:\n                _context15.next = 5;\n                return this.enterByOffset(offsets);\n\n              case 5:\n                return _context15.abrupt(\"return\", _context15.sent);\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function enterFavorite() {\n        return _enterFavorite.apply(this, arguments);\n      }\n\n      return enterFavorite;\n    }()\n  }, {\n    key: \"enterMail\",\n    value: function () {\n      var _enterMail = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee16() {\n        return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.next = 2;\n                return this.send(\"M\".concat(_utils.keymap.Enter, \"R\").concat(_utils.keymap.Enter).concat(_utils.keymap.Home).concat(_utils.keymap.End));\n\n              case 2:\n                return _context16.abrupt(\"return\", true);\n\n              case 3:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function enterMail() {\n        return _enterMail.apply(this, arguments);\n      }\n\n      return enterMail;\n    }()\n  }, {\n    key: \"state\",\n    get: function get() {\n      return _objectSpread({}, this._state);\n    }\n  }, {\n    key: \"currentBoardname\",\n    get: function get() {\n      var boardRe = /*#__PURE__*/_wrapRegExp(/\\u3010(?!\\u770B\\u677F\\u5217\\u8868).*\\u3011.*\\u300A(.*)\\u300B/, {\n        boardname: 1\n      });\n\n      var match = boardRe.exec(this.line[0].str);\n\n      if (match) {\n        return match.groups.boardname;\n      } else {\n        return void 0;\n      }\n    }\n  }]);\n  return Bot;\n}(_eventemitter[\"default\"]);\n\n(0, _defineProperty2[\"default\"])(Bot, \"initialState\", {\n  connect: false,\n  login: false\n});\n(0, _defineProperty2[\"default\"])(Bot, \"forwardEvents\", [\"message\", \"error\"]);\nvar _default = Bot;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _uaoJs = require(\"uao-js\");\n\nvar decode = function decode(data, charset) {\n  var str = '';\n\n  switch (charset) {\n    case 'utf8':\n    case 'utf-8':\n      str = Buffer.from(data).toString('utf8');\n      break;\n\n    case 'big5':\n      str = (0, _uaoJs.decodeSync)(String.fromCharCode.apply(String, (0, _toConsumableArray2[\"default\"])(data)));\n      break;\n\n    default:\n      throw new TypeError(\"Unknown charset: \".concat(charset));\n  }\n\n  return str;\n};\n\nvar _default = decode;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _uaoJs = require(\"uao-js\");\n\nvar encode = function encode(str, charset) {\n  var buffer;\n\n  switch (charset) {\n    case 'utf8':\n    case 'utf-8':\n      buffer = Buffer.from(str, 'utf8');\n      break;\n\n    case 'big5':\n      buffer = Buffer.from((0, _uaoJs.encodeSync)(str), 'binary');\n      break;\n\n    default:\n      throw new TypeError(\"Unknown charset: \".concat(charset));\n  }\n\n  return buffer;\n};\n\nvar _default = encode;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _default = {\n  Enter: '\\r',\n  ArrowLeft: '\\x1b[D',\n  ArrowRight: '\\x1b[C',\n  ArrowUp: '\\x1b[A',\n  ArrowDown: '\\x1b[B',\n  PgUp: '\\x1b[5~',\n  PgDown: '\\x1b[6~',\n  Home: '\\x1b[1~',\n  End: '\\x1b[4~',\n  Backspace: '\\b',\n  CtrlC: '\\x03',\n  CtrlP: '\\x10',\n  CtrlU: '\\x15',\n  CtrlZ: '\\x1a'\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.ArticleSelectQueryBuilder = exports.WhereType = exports.Article = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _SelectQueryBuilder2 = require(\"../../../utils/query-builder/SelectQueryBuilder\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _char = require(\"../../../utils/char\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Article = /*#__PURE__*/function () {\n  (0, _createClass2[\"default\"])(Article, [{\n    key: \"content\",\n    get: function get() {\n      return this._content;\n    },\n    set: function set(content) {\n      this._content = content.slice();\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._content.map(function (content) {\n        return content.str;\n      });\n    }\n    /**\n     * @deprecated\n     */\n    ,\n    set: function set(data) {\n      console.warn(\"Should not set Mail.data/Mail.lines directly. \" + \"Use Mail.content instead\");\n    }\n  }]);\n\n  function Article() {\n    (0, _classCallCheck2[\"default\"])(this, Article);\n    (0, _defineProperty2[\"default\"])(this, \"boardname\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"id\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"push\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"date\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"timestamp\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"author\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"status\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"title\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"fixed\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_content\", []);\n  }\n\n  (0, _createClass2[\"default\"])(Article, [{\n    key: \"hasHeader\",\n    value: function hasHeader() {\n      if (this.content.length === 0) {\n        return false;\n      }\n\n      var authorArea = (0, _char.substrWidth)('dbcs', this.content[0].str, 0, 6).trim();\n      return authorArea === '作者';\n    }\n  }], [{\n    key: \"fromLine\",\n    value: function fromLine(line) {\n      var article = new Article();\n      var str = line.str;\n      article.id = +(0, _char.substrWidth)('dbcs', str, 1, 7).trim();\n      article.push = (0, _char.substrWidth)('dbcs', str, 9, 2).trim();\n      article.date = (0, _char.substrWidth)('dbcs', str, 11, 5).trim();\n      article.author = (0, _char.substrWidth)('dbcs', str, 17, 12).trim();\n      article.status = (0, _char.substrWidth)('dbcs', str, 30, 2).trim();\n      article.title = (0, _char.substrWidth)('dbcs', str, 32).trim();\n      article.fixed = (0, _char.substrWidth)('dbcs', str, 1, 7).trim().includes('★');\n      return article;\n    }\n  }, {\n    key: \"select\",\n    value: function select(bot) {\n      return new ArticleSelectQueryBuilder(bot);\n    }\n  }]);\n  return Article;\n}();\n\nexports.Article = Article;\nvar WhereType;\nexports.WhereType = WhereType;\n\n(function (WhereType) {\n  WhereType[\"Boardname\"] = \"boardname\";\n  WhereType[\"Id\"] = \"id\";\n  WhereType[\"Push\"] = \"push\";\n  WhereType[\"Author\"] = \"author\";\n  WhereType[\"Title\"] = \"title\";\n})(WhereType || (exports.WhereType = WhereType = {}));\n\nvar ArticleSelectQueryBuilder = /*#__PURE__*/function (_SelectQueryBuilder) {\n  (0, _inherits2[\"default\"])(ArticleSelectQueryBuilder, _SelectQueryBuilder);\n\n  var _super = _createSuper(ArticleSelectQueryBuilder);\n\n  function ArticleSelectQueryBuilder(bot) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ArticleSelectQueryBuilder);\n    _this = _super.call(this);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"bot\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"boardname\", '');\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"wheres\", []);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"id\", 0);\n    _this.bot = bot;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ArticleSelectQueryBuilder, [{\n    key: \"where\",\n    value: function where(type, condition) {\n      switch (type) {\n        case WhereType.Boardname:\n          if (this.boardname !== '') {\n            console.warn(\"Cannot call where with type \\\"\".concat(type, \"\\\" multiple times\"));\n          } else {\n            this.boardname = condition;\n          }\n\n          break;\n\n        case WhereType.Id:\n          this.id = +condition;\n          break;\n\n        case WhereType.Push:\n          this.wheres.push({\n            type: 'Z',\n            condition: condition\n          });\n          break;\n\n        case WhereType.Author:\n          this.wheres.push({\n            type: 'a',\n            condition: condition\n          });\n          break;\n\n        case WhereType.Title:\n          this.wheres.push({\n            type: '/',\n            condition: condition\n          });\n          break;\n\n        default:\n          throw new Error(\"Invalid type: \".concat(type));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      return this.wheres.map(function (_ref) {\n        var type = _ref.type,\n            condition = _ref.condition;\n        return \"\".concat(type).concat(condition).concat(_utils.keymap.Enter);\n      }).join();\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        var found, id, articles, i, line, article, _i, _i2;\n\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.bot.enterBoardByName(this.boardname);\n\n              case 2:\n                _context.next = 4;\n                return this.bot.send(this.getQuery());\n\n              case 4:\n                found = _context.sent;\n\n                if (found) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", []);\n\n              case 7:\n                if (!(this.id > 0)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                id = Math.max(this.id - 9, 1);\n                _context.next = 11;\n                return this.bot.send(\"\".concat(_utils.keymap.End).concat(_utils.keymap.End).concat(id).concat(_utils.keymap.Enter));\n\n              case 11:\n                articles = [];\n                i = 3;\n\n              case 13:\n                if (!(i <= 22)) {\n                  _context.next = 23;\n                  break;\n                }\n\n                line = this.bot.line[i];\n\n                if (!(line.str.trim() === '')) {\n                  _context.next = 17;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 23);\n\n              case 17:\n                article = Article.fromLine(line);\n                article.boardname = this.boardname;\n                articles.push(article);\n\n              case 20:\n                i++;\n                _context.next = 13;\n                break;\n\n              case 23:\n                if (!(articles.length >= 2 && articles[0].id === 0)) {\n                  _context.next = 32;\n                  break;\n                }\n\n                _i = 1;\n\n              case 25:\n                if (!(_i < articles.length)) {\n                  _context.next = 32;\n                  break;\n                }\n\n                if (!(articles[_i].id !== 0)) {\n                  _context.next = 29;\n                  break;\n                }\n\n                articles[0].id = articles[_i].id - _i;\n                return _context.abrupt(\"break\", 32);\n\n              case 29:\n                _i++;\n                _context.next = 25;\n                break;\n\n              case 32:\n                for (_i2 = 1; _i2 < articles.length; _i2++) {\n                  articles[_i2].id = articles[_i2 - 1].id + 1;\n                }\n\n                _context.next = 35;\n                return this.bot.enterIndex();\n\n              case 35:\n                return _context.abrupt(\"return\", articles.reverse());\n\n              case 36:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get() {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getOne\",\n    value: function () {\n      var _getOne = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var found, article;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.bot.enterBoardByName(this.boardname);\n\n              case 2:\n                _context2.next = 4;\n                return this.bot.send(this.getQuery());\n\n              case 4:\n                found = _context2.sent;\n\n                if (found) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", void 0);\n\n              case 7:\n                _context2.next = 9;\n                return this.bot.send(\"\".concat(this.id).concat(_utils.keymap.Enter).concat(_utils.keymap.Enter));\n\n              case 9:\n                article = new Article();\n                article.id = this.id;\n                article.boardname = this.boardname;\n                _context2.next = 14;\n                return this.bot.getContent();\n\n              case 14:\n                article.content = _context2.sent;\n\n                if (article.hasHeader()) {\n                  article.author = (0, _char.substrWidth)('dbcs', this.bot.line[0].str, 7, 50).trim();\n                  article.title = (0, _char.substrWidth)('dbcs', this.bot.line[1].str, 7).trim();\n                  article.timestamp = (0, _char.substrWidth)('dbcs', this.bot.line[2].str, 7).trim();\n                }\n\n                _context2.next = 18;\n                return this.bot.enterIndex();\n\n              case 18:\n                return _context2.abrupt(\"return\", article);\n\n              case 19:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getOne() {\n        return _getOne.apply(this, arguments);\n      }\n\n      return getOne;\n    }()\n  }]);\n  return ArticleSelectQueryBuilder;\n}(_SelectQueryBuilder2.SelectQueryBuilder);\n\nexports.ArticleSelectQueryBuilder = ArticleSelectQueryBuilder;\nvar _default = Article;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QueryBuilder = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar QueryBuilder = function QueryBuilder() {\n  (0, _classCallCheck2[\"default\"])(this, QueryBuilder);\n};\n\nexports.QueryBuilder = QueryBuilder;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.BoardSelectQueryBuilder = exports.Entry = exports.WhereType = exports.Board = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _SelectQueryBuilder2 = require(\"../../../utils/query-builder/SelectQueryBuilder\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _char = require(\"../../../utils/char\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Board = /*#__PURE__*/function () {\n  function Board() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    (0, _classCallCheck2[\"default\"])(this, Board);\n    (0, _defineProperty2[\"default\"])(this, \"name\", '');\n    (0, _defineProperty2[\"default\"])(this, \"id\", 0);\n    (0, _defineProperty2[\"default\"])(this, \"unread\", false);\n    (0, _defineProperty2[\"default\"])(this, \"category\", '');\n    (0, _defineProperty2[\"default\"])(this, \"flag\", '');\n    (0, _defineProperty2[\"default\"])(this, \"title\", '');\n    (0, _defineProperty2[\"default\"])(this, \"users\", '');\n    (0, _defineProperty2[\"default\"])(this, \"admin\", '');\n    (0, _defineProperty2[\"default\"])(this, \"folder\", false);\n    (0, _defineProperty2[\"default\"])(this, \"divider\", false);\n    this.name = name;\n  }\n\n  (0, _createClass2[\"default\"])(Board, null, [{\n    key: \"fromLine\",\n    value: function fromLine(line) {\n      var board = new Board();\n      var str = line.str;\n      board.id = +(0, _char.substrWidth)('dbcs', str, 3, 4).trim();\n      board.unread = (0, _char.substrWidth)('dbcs', str, 8, 2).trim() === 'ˇ';\n      board.name = (0, _char.substrWidth)('dbcs', str, 10, 12).trim();\n      board.category = (0, _char.substrWidth)('dbcs', str, 23, 4).trim();\n      board.flag = (0, _char.substrWidth)('dbcs', str, 28, 2).trim();\n\n      switch (board.flag) {\n        case '□':\n          board.title = (0, _char.substrWidth)('dbcs', str, 30).replace(/\\s+$/, '');\n          board.folder = true;\n          break;\n\n        case '--':\n          board.divider = true;\n          break;\n\n        case 'Σ':\n          board.title = (0, _char.substrWidth)('dbcs', str, 30, 31).replace(/\\s+$/, '');\n          board.users = (0, _char.substrWidth)('dbcs', str, 62, 5).trim();\n          board.admin = (0, _char.substrWidth)('dbcs', str, 67).trim();\n          board.folder = true;\n          break;\n\n        case '◎':\n          board.title = (0, _char.substrWidth)('dbcs', str, 30, 31).replace(/\\s+$/, '');\n          board.users = (0, _char.substrWidth)('dbcs', str, 62, 5).trim();\n          board.admin = (0, _char.substrWidth)('dbcs', str, 67).trim();\n          break;\n\n        default:\n          console.warn(\"Unknown board flag. line.str: \\\"\".concat(str, \"\\\"\"));\n      }\n\n      return board;\n    }\n  }, {\n    key: \"fromClassLine\",\n    value: function fromClassLine(line) {\n      var board = new Board();\n      var str = line.str;\n      board.id = +(0, _char.substrWidth)('dbcs', str, 15, 2);\n      board.title = (0, _char.substrWidth)('dbcs', str, 20, 29).replace(/\\s+$/, '');\n      board.admin = (0, _char.substrWidth)('dbcs', str, 61).trim();\n      board.folder = true;\n      return board;\n    }\n  }, {\n    key: \"select\",\n    value: function select(bot) {\n      return new BoardSelectQueryBuilder(bot);\n    }\n  }]);\n  return Board;\n}();\n\nexports.Board = Board;\nvar WhereType;\nexports.WhereType = WhereType;\n\n(function (WhereType) {\n  WhereType[\"Entry\"] = \"entry\";\n  WhereType[\"Prefix\"] = \"prefix\";\n  WhereType[\"Offset\"] = \"offset\";\n  WhereType[\"Offsets\"] = \"offsets\";\n})(WhereType || (exports.WhereType = WhereType = {}));\n\nvar Entry;\nexports.Entry = Entry;\n\n(function (Entry) {\n  Entry[\"Class\"] = \"class\";\n  Entry[\"Favorite\"] = \"favorite\";\n  Entry[\"Hot\"] = \"hot\";\n})(Entry || (exports.Entry = Entry = {}));\n\nvar BoardSelectQueryBuilder = /*#__PURE__*/function (_SelectQueryBuilder) {\n  (0, _inherits2[\"default\"])(BoardSelectQueryBuilder, _SelectQueryBuilder);\n\n  var _super = _createSuper(BoardSelectQueryBuilder);\n\n  function BoardSelectQueryBuilder(bot) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, BoardSelectQueryBuilder);\n    _this = _super.call(this);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"bot\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"entry\", Entry.Class);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"prefix\", '');\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"offsets\", []);\n    _this.bot = bot;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(BoardSelectQueryBuilder, [{\n    key: \"where\",\n    value: function where(type, condition) {\n      switch (type.toLowerCase()) {\n        case WhereType.Entry:\n          this.entry = condition.toLowerCase();\n          break;\n\n        case WhereType.Prefix:\n          this.prefix = condition;\n          break;\n\n        case WhereType.Offset:\n          this.offsets.push(condition);\n          break;\n\n        case WhereType.Offsets:\n          this.offsets = condition.slice();\n          break;\n\n        default:\n          throw new Error(\"Invalid type: \".concat(type));\n          break;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        var found, boards, i, line, board, stopLoop, _i, _line, _board;\n\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.prefix !== '')) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.getByPrefix(this.prefix);\n\n              case 3:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 4:\n                _context.t0 = this.entry;\n                _context.next = _context.t0 === Entry.Class ? 7 : _context.t0 === Entry.Favorite ? 11 : _context.t0 === Entry.Hot ? 15 : 19;\n                break;\n\n              case 7:\n                _context.next = 9;\n                return this.bot.enterBoardByOffset(this.offsets);\n\n              case 9:\n                found = _context.sent;\n                return _context.abrupt(\"break\", 19);\n\n              case 11:\n                _context.next = 13;\n                return this.bot.enterFavorite(this.offsets);\n\n              case 13:\n                found = _context.sent;\n                return _context.abrupt(\"break\", 19);\n\n              case 15:\n                _context.next = 17;\n                return this.bot.enterBoardByOffset([-1].concat((0, _toConsumableArray2[\"default\"])(this.offsets)));\n\n              case 17:\n                found = _context.sent;\n                return _context.abrupt(\"break\", 19);\n\n              case 19:\n                boards = [];\n\n                if (!found) {\n                  _context.next = 56;\n                  break;\n                }\n\n                if (!(this.entry === Entry.Class && this.offsets.length === 0)) {\n                  _context.next = 34;\n                  break;\n                }\n\n                i = 7;\n\n              case 23:\n                if (!(i < 23)) {\n                  _context.next = 32;\n                  break;\n                }\n\n                line = this.bot.line[i];\n\n                if (!(line.str.trim() === '')) {\n                  _context.next = 27;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 32);\n\n              case 27:\n                board = Board.fromClassLine(line);\n                boards.push(board);\n\n              case 29:\n                i++;\n                _context.next = 23;\n                break;\n\n              case 32:\n                _context.next = 56;\n                break;\n\n              case 34:\n                if (!true) {\n                  _context.next = 56;\n                  break;\n                }\n\n                stopLoop = false;\n                _i = 3;\n\n              case 37:\n                if (!(_i < 23)) {\n                  _context.next = 50;\n                  break;\n                }\n\n                _line = this.bot.line[_i];\n\n                if (!(_line.str.trim() === '')) {\n                  _context.next = 42;\n                  break;\n                }\n\n                stopLoop = true;\n                return _context.abrupt(\"break\", 50);\n\n              case 42:\n                _board = Board.fromLine(_line);\n\n                if (!(_board.id !== boards.length + 1)) {\n                  _context.next = 46;\n                  break;\n                }\n\n                stopLoop = true;\n                return _context.abrupt(\"break\", 50);\n\n              case 46:\n                boards.push(_board);\n\n              case 47:\n                _i++;\n                _context.next = 37;\n                break;\n\n              case 50:\n                if (!stopLoop) {\n                  _context.next = 52;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 56);\n\n              case 52:\n                _context.next = 54;\n                return this.bot.send(_utils.keymap.PgDown);\n\n              case 54:\n                _context.next = 34;\n                break;\n\n              case 56:\n                _context.next = 58;\n                return this.bot.enterIndex();\n\n              case 58:\n                return _context.abrupt(\"return\", boards);\n\n              case 59:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get() {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getOne\",\n    value: function () {\n      var _getOne = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var res;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.get();\n\n              case 2:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.length ? res[0] : void 0);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getOne() {\n        return _getOne.apply(this, arguments);\n      }\n\n      return getOne;\n    }()\n  }, {\n    key: \"getByPrefix\",\n    value: function () {\n      var _getByPrefix = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(prefix) {\n        var boards, resultLine0, col, row, width, line, boardname, searchStr, searchInput;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.bot.send(\"s\".concat(prefix, \" \"));\n\n              case 2:\n                boards = [];\n                resultLine0 = this.bot.line[3].str;\n\n                if (!(resultLine0.toLowerCase().indexOf(prefix.toLowerCase()) === 0)) {\n                  _context3.next = 33;\n                  break;\n                }\n\n                col = 0, row = 0;\n                /* TODO: Use other way instead of the constant 15. */\n\n                width = 15;\n\n                while (width < resultLine0.length && resultLine0[width] !== ' ') {\n                  width += 1;\n                }\n\n                while (width < resultLine0.length && resultLine0[width] === ' ') {\n                  width += 1;\n                }\n\n              case 9:\n                if (!true) {\n                  _context3.next = 31;\n                  break;\n                }\n\n                line = this.bot.line[row + 3];\n                boardname = (0, _char.substrWidth)('dbcs', line.str, col * width, width).trim();\n\n                if (!(boardname !== '')) {\n                  _context3.next = 16;\n                  break;\n                }\n\n                boards.push(new Board(boardname));\n                _context3.next = 17;\n                break;\n\n              case 16:\n                return _context3.abrupt(\"break\", 31);\n\n              case 17:\n                row += 1;\n\n                if (!(row == 20)) {\n                  _context3.next = 29;\n                  break;\n                }\n\n                col += 1;\n                row = 0;\n                /* TODO: Use other way instead of the constant 80. */\n\n                if (!((col + 1) * width > 80)) {\n                  _context3.next = 29;\n                  break;\n                }\n\n                if (!this.bot.line[23].str.includes('按任意鍵繼續')) {\n                  _context3.next = 28;\n                  break;\n                }\n\n                col = row = 0;\n                _context3.next = 26;\n                return this.bot.send(' ');\n\n              case 26:\n                _context3.next = 29;\n                break;\n\n              case 28:\n                return _context3.abrupt(\"break\", 31);\n\n              case 29:\n                _context3.next = 9;\n                break;\n\n              case 31:\n                _context3.next = 36;\n                break;\n\n              case 33:\n                searchStr = this.bot.line[1].str;\n                searchInput = (0, _char.substrWidth)('dbcs', searchStr, 34, 15).trim();\n\n                if (searchInput.toLowerCase().indexOf(prefix.toLowerCase()) === 0) {\n                  boards.push(new Board(searchInput));\n                }\n\n              case 36:\n                _context3.next = 38;\n                return this.bot.send(_utils.keymap.CtrlC);\n\n              case 38:\n                return _context3.abrupt(\"return\", boards);\n\n              case 39:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getByPrefix(_x) {\n        return _getByPrefix.apply(this, arguments);\n      }\n\n      return getByPrefix;\n    }()\n  }]);\n  return BoardSelectQueryBuilder;\n}(_SelectQueryBuilder2.SelectQueryBuilder);\n\nexports.BoardSelectQueryBuilder = BoardSelectQueryBuilder;\nvar _default = Board;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.MailSelectQueryBuilder = exports.WhereType = exports.Mail = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _SelectQueryBuilder2 = require(\"../../../utils/query-builder/SelectQueryBuilder\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _char = require(\"../../../utils/char\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Mail = /*#__PURE__*/function () {\n  (0, _createClass2[\"default\"])(Mail, [{\n    key: \"content\",\n    get: function get() {\n      return this._content;\n    },\n    set: function set(content) {\n      this._content = content.slice();\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._content.map(function (content) {\n        return content.str;\n      });\n    }\n    /**\n     * @deprecated\n     */\n    ,\n    set: function set(data) {\n      console.warn(\"Should not set Mail.data/Mail.lines directly. \" + \"Use Mail.content instead\");\n    }\n  }]);\n\n  function Mail() {\n    (0, _classCallCheck2[\"default\"])(this, Mail);\n    (0, _defineProperty2[\"default\"])(this, \"id\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"date\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"timestamp\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"author\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"status\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"title\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_content\", []);\n  }\n\n  (0, _createClass2[\"default\"])(Mail, [{\n    key: \"hasHeader\",\n    value: function hasHeader() {\n      if (this.content.length === 0) {\n        return false;\n      }\n\n      var authorArea = (0, _char.substrWidth)('dbcs', this.content[0].str, 0, 6).trim();\n      return authorArea === '作者';\n    }\n  }], [{\n    key: \"fromLine\",\n    value: function fromLine(line) {\n      var mail = new Mail();\n      var str = line.str;\n      mail.id = +(0, _char.substrWidth)('dbcs', str, 1, 5).trim();\n      mail.date = (0, _char.substrWidth)('dbcs', str, 9, 5).trim();\n      mail.author = (0, _char.substrWidth)('dbcs', str, 15, 12).trim();\n      mail.status = (0, _char.substrWidth)('dbcs', str, 30, 2).trim();\n      mail.title = (0, _char.substrWidth)('dbcs', str, 33).trim();\n      return mail;\n    }\n  }, {\n    key: \"select\",\n    value: function select(bot) {\n      return new MailSelectQueryBuilder(bot);\n    }\n  }]);\n  return Mail;\n}();\n\nexports.Mail = Mail;\nvar WhereType;\nexports.WhereType = WhereType;\n\n(function (WhereType) {\n  WhereType[\"Id\"] = \"id\";\n  WhereType[\"Author\"] = \"author\";\n  WhereType[\"Title\"] = \"title\";\n})(WhereType || (exports.WhereType = WhereType = {}));\n\nvar MailSelectQueryBuilder = /*#__PURE__*/function (_SelectQueryBuilder) {\n  (0, _inherits2[\"default\"])(MailSelectQueryBuilder, _SelectQueryBuilder);\n\n  var _super = _createSuper(MailSelectQueryBuilder);\n\n  function MailSelectQueryBuilder(bot) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, MailSelectQueryBuilder);\n    _this = _super.call(this);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"bot\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"wheres\", []);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"id\", 0);\n    _this.bot = bot;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(MailSelectQueryBuilder, [{\n    key: \"where\",\n    value: function where(type, condition) {\n      switch (type) {\n        case WhereType.Id:\n          this.id = +condition;\n          break;\n\n        case WhereType.Author:\n          this.wheres.push({\n            type: 'a',\n            condition: condition\n          });\n          break;\n\n        case WhereType.Title:\n          this.wheres.push({\n            type: '/',\n            condition: condition\n          });\n          break;\n\n        default:\n          throw new Error(\"Invalid type: \".concat(type));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      return this.wheres.map(function (_ref) {\n        var type = _ref.type,\n            condition = _ref.condition;\n        return \"\".concat(type).concat(condition).concat(_utils.keymap.Enter);\n      }).join();\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        var found, id, mails, i, line, mail;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.bot.enterMail();\n\n              case 2:\n                _context.next = 4;\n                return this.bot.send(this.getQuery());\n\n              case 4:\n                found = _context.sent;\n\n                if (found) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", []);\n\n              case 7:\n                if (!(this.id > 0)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                id = Math.max(this.id - 9, 1);\n                _context.next = 11;\n                return this.bot.send(\"\".concat(_utils.keymap.End).concat(_utils.keymap.End).concat(id).concat(_utils.keymap.Enter));\n\n              case 11:\n                mails = [];\n                i = 3;\n\n              case 13:\n                if (!(i <= 22)) {\n                  _context.next = 22;\n                  break;\n                }\n\n                line = this.bot.line[i];\n\n                if (!(line.str.trim() === '')) {\n                  _context.next = 17;\n                  break;\n                }\n\n                return _context.abrupt(\"break\", 22);\n\n              case 17:\n                mail = Mail.fromLine(line);\n                mails.push(mail);\n\n              case 19:\n                i++;\n                _context.next = 13;\n                break;\n\n              case 22:\n                _context.next = 24;\n                return this.bot.enterIndex();\n\n              case 24:\n                return _context.abrupt(\"return\", mails.reverse());\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get() {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getOne\",\n    value: function () {\n      var _getOne = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var found, mail;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.bot.enterMail();\n\n              case 2:\n                _context2.next = 4;\n                return this.bot.send(this.getQuery());\n\n              case 4:\n                found = _context2.sent;\n\n                if (found) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", void 0);\n\n              case 7:\n                _context2.next = 9;\n                return this.bot.send(\"\".concat(this.id).concat(_utils.keymap.Enter).concat(_utils.keymap.Enter));\n\n              case 9:\n                mail = new Mail();\n                mail.id = this.id;\n                _context2.next = 13;\n                return this.bot.getContent();\n\n              case 13:\n                mail.content = _context2.sent;\n\n                if (mail.hasHeader()) {\n                  mail.author = (0, _char.substrWidth)('dbcs', this.bot.line[0].str, 7, 50).trim();\n                  mail.title = (0, _char.substrWidth)('dbcs', this.bot.line[1].str, 7).trim();\n                  mail.timestamp = (0, _char.substrWidth)('dbcs', this.bot.line[2].str, 7).trim();\n                }\n\n                _context2.next = 17;\n                return this.bot.enterIndex();\n\n              case 17:\n                return _context2.abrupt(\"return\", mail);\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getOne() {\n        return _getOne.apply(this, arguments);\n      }\n\n      return getOne;\n    }()\n  }]);\n  return MailSelectQueryBuilder;\n}(_SelectQueryBuilder2.SelectQueryBuilder);\n\nexports.MailSelectQueryBuilder = MailSelectQueryBuilder;\nvar _default = Mail;\nexports[\"default\"] = _default;","import { useState } from 'react';\nimport Cookies from 'universal-cookie';\nimport constate from \"constate\";\n\nconst cookies = new Cookies();\n\nconst useUser = () => {\n    const [user,setUser] = useState(cookies.get('user')); \n\n    return {\n      user,setUser\n    };\n  };\n\nexport const [UserProvider, useUserContext] = constate(useUser);\n","import { useState } from \"react\";\nimport constate from \"constate\";\nimport Ptt from \"ptt-client\";\nimport usePrev from \"./usePrev\";\n\nconst useBot = () => {\n\tconst ptt = new Ptt();\n\tconst [bot] = useState(ptt);\n\n\tconst [botState, setBotState] = useState(bot.state);\n\tconst prevBotState = usePrev(botState);\n\n\tlet busy = false;\n\n\t// login function\n\tconst login = async arg => {\n\t\tconst username = arg.username,\n\t\t\tpassword = arg.password;\n\t\tlet res = await bot.login(username, password, true);\n\t\tif (res) setBotState({ ...botState, login: true });\n\t\treturn res;\n\t};\n\n\t// bot command\n\t// command = {type : \"login\"|\"get\", arg : query | userObject}\n\tconst executeCommand = async command => {\n\t\tif (busy) {\n\t\t\treturn false;\n\t\t}\n\t\tbusy = true;\n\t\tconsole.log('bot command : ',command);\n\t\ttry {\n\t\t\t// not connected\n\t\t\tif (!botState.connect) return false;\n\t\t\t// login\n\t\t\tif (command.type === \"login\") {\n\t\t\t\tif (botState.login) return true;\n        let res = await login(command.arg);\n        return res;\n\t\t\t}\n\t\t\t// select\n\t\t\tif (command.type === \"select\") {\n\t\t\t\tif (!botState.login) return false;\n\t\t\t\tlet query = command.arg;\n\t\t\t\tlet res = await query.get();\n\t\t\t\treturn res;\n      }\n      // content\n      if (command.type === \"content\") {\n\t\t\t\tif (!botState.login) return false;\n\t\t\t\tlet query = command.arg;\n\t\t\t\tlet res = await query.getOne();\n\t\t\t\treturn res;\n      }\n\t\t\t// Todo : post\n\t\t} catch {\n\t\t} finally {\n\t\t\tbusy = false;\n\t\t}\n\t};\n\n\tbot.on(\"connect\", () => {\n\t\tconsole.log(\"bot connected\");\n\t\tsetBotState(bot.state);\n\t});\n\n\tbot.on(\"disconnect\", () => {\n\t\tconsole.log(\"bot disconnected\");\n\t\tsetBotState(bot.state);\n\t});\n\n\treturn {\n\t\tbot: bot,\n\t\tbotState: botState,\n\t\tprevBotState: prevBotState,\n\t\tsetBotState: setBotState,\n\t\texecuteCommand: executeCommand\n\t};\n};\n\nexport const [BotProvider, useBotContext] = constate(useBot);\n","import {React, useRef,useEffect} from \"react\";\nexport default function usePrev(value) {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  }","import React, { useState, useEffect, useCallback } from \"react\";\n// import Avatar from '@material-ui/core/Avatar';\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { useUserContext } from \"./UserContext\";\nimport { useBotContext } from \"./BotContext\";\nimport { useForm } from \"react-hook-form\";\nimport Cookies from \"universal-cookie\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tflexDirection: \"column\"\n\t},\n\tpaper: {\n\t\twidth: \"400px\",\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\"\n\t},\n\tpaperlogging: {\n\t\tminWidth: \"12vw\",\n\t\theight: \"9vh\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tposition: \"absolute\",\n\t\tmarginTop: \"25vh\",\n\t\tzIndex: theme.zIndex.drawer + 2\n\t},\n\tform: {\n\t\twidth: \"80%\",\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t},\n\tsignin: {\n\t\tmarginTop: theme.spacing(2)\n\t},\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\"\n\t},\n\tcircle: {\n\t\tmarginRight: \"9px\"\n\t}\n}));\n\nexport default function Login() {\n\tconst classes = useStyles();\n\n\tconst { user, setUser } = useUserContext();\n\tconst BotContext = useBotContext();\n\n\tconst { register, handleSubmit } = useForm();\n\n\tconst onSubmit = async (data, e) => {\n\t\te.preventDefault();\n\t\tlet myUser = { username: data.username, password: data.password };\n\t\tlet loginRes = await loginCallback(myUser);\n\t\tif (loginRes) {\n\t\t\t// save it in cookie\n\t\t\tconst cookies = new Cookies();\n\t\t\tcookies.set(\"user\", myUser);\n\t\t\tsetUser(myUser);\n\t\t}\n\t};\n\n\tconst loginCallback = useCallback(\n\t\tasync myUser => {\n\t\t\tconsole.log(myUser);\n\t\t\tsetOpenForm(false);\n\t\t\tsetOpenLoadingCircle(true);\n\t\t\tlet res = await BotContext.executeCommand({\n\t\t\t\ttype: \"login\",\n\t\t\t\targ: myUser\n\t\t\t});\n\t\t\tif (res) {\n\t\t\t\tconsole.log(\"login success\");\n\t\t\t\tsetOpenBackDrop(false);\n\t\t\t\tsetOpenLoadingCircle(false);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tconsole.log(\"login fail\");\n\t\t\t\tsetOpenErrorBar(true);\n\t\t\t\tsetOpenForm(true);\n\t\t\t\tsetOpenLoadingCircle(false);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t[BotContext]\n\t);\n\n\tconst [openBackDrop, setOpenBackDrop] = useState(!user);\n\tconst [openErrorBar, setOpenErrorBar] = useState(false);\n\tconst [openLoadingCircle, setOpenLoadingCircle] = useState(false);\n\tconst [openForm, setOpenForm] = useState(true);\n\n\tuseEffect(() => {\n\t\tasync function tryLogin() {\n\t\t\tawait loginCallback(user);\n\t\t}\n\t\tconsole.log(\"botState:\", BotContext.botState);\n\t\tconsole.log(\"prev botState:\", BotContext.prevBotState);\n\t\tif (user) {\n\t\t\t\tif(BotContext.prevBotState === undefined) return;\n\t\t\t\tif (BotContext.botState.connect && !BotContext.prevBotState.connect) {\n\t\t\t\t\ttryLogin();\n\t\t\t\t} else if (\n\t\t\t\t\tBotContext.prevBotState.connect &&\n\t\t\t\t\t!BotContext.botState.connect\n\t\t\t\t) {\n\t\t\t\t\t// disconnected\n\t\t\t\t\tsetOpenLoadingCircle(true);\n\t\t\t\t}\n\t\t\t\n\t\t}\n\t}, [user, BotContext.botState, BotContext.prevBotState, loginCallback]);\n\n\tfunction Alert(props) {\n\t\treturn <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n\t}\n\n\tconst handleErrorBarClose = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn;\n\t\t}\n\t\tsetOpenErrorBar(false);\n\t};\n\n\treturn (\n\t\t<Grid container component=\"main\" className={classes.root}>\n\t\t\t{openLoadingCircle && (\n\t\t\t\t<Paper className={classes.paperlogging}>\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tclassName={classes.circle}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{!BotContext.connect\n\t\t\t\t\t\t\t? \"連線中\"\n\t\t\t\t\t\t\t: !BotContext.login\n\t\t\t\t\t\t\t? \"登入中\"\n\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Paper>\n\t\t\t)}\n\t\t\t<Backdrop className={classes.backdrop} open={openBackDrop}>\n\t\t\t\t<Grid container component=\"main\" className={classes.root}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t{openForm && (\n\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t{/* <Avatar variant=\"square\" className={classes.large} src=\"logo.png\"/> */}\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tcomponent=\"h4\"\n\t\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\t\tclassName={classes.signin}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t登入PTT\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit(onSubmit)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tlabel=\"帳號\"\n\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tinputRef={register}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tlabel=\"密碼\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\tinputRef={register}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"remember\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel=\"記住我\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t登入\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t</Backdrop>\n\t\t\t<Snackbar\n\t\t\t\topen={openErrorBar}\n\t\t\t\tautoHideDuration={6000}\n\t\t\t\tonClose={handleErrorBarClose}\n\t\t\t>\n\t\t\t\t<Alert severity=\"error\">帳密輸入錯誤歐!</Alert>\n\t\t\t</Snackbar>\n\t\t</Grid>\n\t);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Article } from \"ptt-client/dist/sites/ptt/model\";\nimport ArticleItem from \"./ArticleItem\";\n\nexport default function BoardItem(props) {\n\n\tlet item = props.item;\n\tlet info = props.info;\n\tlet BotContext = props.BotContext;\n\n\tconst handleClick = async () =>{\n\t\tconsole.log('boardItem click',item,info,BotContext);\n\t\t// set articleList\n\t\tlet query = BotContext.bot.select(Article).where('boardname', item.name);\n\t\tlet res = await BotContext.executeCommand({type:\"select\",arg:query});\n\t\tif(!res) return false;\n\t\tconsole.log('handleclick',res)\n\t\t\n\t\tinfo.setArticleList(res);\n\t\tinfo.setBoardName(item.name)\n\t\tinfo.setIndex(0);\n\t\treturn true;\n\t}\n\n\treturn (\n\t\t<ListItem button onClick={handleClick} key={item.id} style={{height:\"10vh\"}}>\n\t\t\t<ListItemText\n\t\t\t\tprimary={<Typography variant=\"body1\">{item.name}</Typography>}\n\t\t\t\tsecondary={\n\t\t\t\t\t<Typography variant=\"body2\">{item.title}</Typography>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<ListItemIcon style={{justifyContent:'center'}}>\n\t\t\t\t<ChevronRightIcon />\n\t\t\t</ListItemIcon>\n\t\t</ListItem>\n\t);\n}\n","import { useState } from \"react\";\nimport constate from \"constate\";\n\nconst useArticleBoardInfo = () => {\n\t// Todo : can config this\n\tconst [boardName, setBoardName] = useState(\"\");\n  const [articleContent, setArticleContent] = useState({});\n  const [articleList, setArticleList] = useState([]);\n  const [index, setIndex] = useState(0);\n\tconst info = {\n\t\tboardName: boardName,\n\t\tsetBoardName: setBoardName,\n\t\tarticleContent: articleContent,\n\t\tsetArticleContent: setArticleContent,\n\t\tarticleList: articleList,\n\t\tsetArticleList: setArticleList,\n\t\tindex: index,\n\t\tsetIndex :setIndex,\n\t};\n\n\treturn info;\n};\n\nexport const [ArticleBoardInfoProvider, useArticleBoardInfoContext] = constate(\n\tuseArticleBoardInfo\n);\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { useUserContext } from \"./UserContext\";\nimport { useBotContext } from \"./BotContext\";\nimport List from \"@material-ui/core/List\";\nimport BoardItem from \"./BoardItem\";\nimport { useArticleBoardInfoContext } from \"./ArticleBoardInfoContext\";\n\n// wierd import...\nimport { Board } from \"ptt-client/dist/sites/ptt/model\";\n\nexport default function BoardDisplay(props) {\n\tconst useStyles = makeStyles(theme => ({\n\t\troot: {\n\t\t\talignItems : 'center',\n\t\t\tjustifyContent : 'center',\n\t\t\tmaxHeight: \"80vh\",\n\t\t\theight: \"80vh\",\n\t\t\toverflow: \"auto\"\n\t\t},\n\t\tskeleton: {\n\t\t\tfontSize: \"40px\",\n\t\t\twidth: \"80%\"\n\t\t},\n\t\tlist: {\n\t\t\tpadding: \"0px\"\n\t\t}\n\t}));\n\tconst classes = useStyles();\n\tconst { user } = useUserContext();\n\tconst BotContext = useBotContext();\n\tconst [listItems, setListItems] = useState([]);\n\t\n\tconst info = useArticleBoardInfoContext();\n\n\tlet selectedBoard = props.selectedBoard;\n\n\tconst getBoardCallback = useCallback(async () => {\n\t\t\n\t\t// Todo : \t1. support more boards \n\t\tconsole.log('getBoardCallback()');\n\n\t\tlet query =\n\t\t\tselectedBoard === \"hot\"\n\t\t\t\t? BotContext.bot.select(Board).where(\"entry\", \"hot\")\n\t\t\t\t: BotContext.bot.select(Board).where(\"entry\", \"favorite\");\n\t\tlet res = await BotContext.executeCommand({type:\"select\",arg:query});\n\t\tif(!res) return false;\n\t\tconsole.log(res)\n\t\t// generate list items\n\t\tlet lis = res.map(item => {\n\t\t\treturn BoardItem({item,info,BotContext});\n\t\t});\n\n\t\tsetListItems(lis);\n\t\t\n\n\t}, [BotContext, setListItems,selectedBoard, info]);\n\n\tuseEffect(() => {\n\t\tasync function getBoard() {\n\t\t\treturn await getBoardCallback(user);\n\t\t}\n\t\t// get board list at the beginning\n\t\tif (BotContext.botState.login) {\n\t\t\tconsole.log(selectedBoard)\n\t\t\tgetBoard();\n\t\t}\n\t}, [BotContext.botState.login, selectedBoard]);\n\n\treturn (\n\t\t<Grid container component=\"main\" className={classes.root}>\n\t\t\t<Grid item className={classes.skeleton}>\n\t\t\t\t{listItems.length === 0 && <Skeleton count={6} />}\n\t\t\t</Grid>\n\t\t\t{listItems && <List className={classes.list}> {listItems} </List>}\n\t\t</Grid>\n\t);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Skeleton from \"react-loading-skeleton\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { useBotContext } from \"./BotContext\";\n\nexport default function BoardSelect(props) {\n\tconst useStyles = makeStyles(theme => ({\n\t\tskeleton: {\n\t\t\tfontSize: \"24px\",\n\t\t\twidth: \"80%\"\n\t\t},\n\t\troot: {\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\"\n\t\t}\n\t}));\n\n\tconst classes = useStyles();\n\tconst BotContext = useBotContext();\n\tconst [selectedValue, setSelectedValue] = useState(0);\n\n\tconst handleChange = (e,v) => {\n\t\tsetSelectedValue(v);\n\t};\n\n\tlet setSelectedBoard = props.setSelectedBoard;\n\tuseEffect(() => {\n\t\tlet selectedBoard = \"hot\";\n\t\tswitch (selectedValue) {\n\t\t\tcase 0:\n\t\t\t\tselectedBoard = \"hot\";\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tselectedBoard = \"favorite\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tsetSelectedBoard(selectedBoard);\n\t}, [selectedValue, setSelectedBoard]);\n\n\treturn (\n\t\t<Grid container component=\"main\" className={classes.root}>\n\t\t\t<Grid item className={classes.skeleton}>\n\t\t\t\t{!BotContext.botState.login && <Skeleton count={1} />}\n\t\t\t</Grid>\n\t\t\t{BotContext.botState.login && (\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={selectedValue}\n\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t>\n\t\t\t\t\t<Tab label=\"熱門看板\" />\n\t\t\t\t\t<Tab label=\"最愛看板\" />\n\t\t\t\t</Tabs>\n\t\t\t)}\n\t\t</Grid>\n\t);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport BoardDisplay from \"./BoardDisplay\";\nimport BoardSelect from \"./BoardSelect\";\n\nexport default function BoardArea() {\n\tconst useStyles = makeStyles(theme => ({\n\t\troot: {\n\t\t\tposition: \"relative\",\n\t\t\tdisplay: \"flex\",\n\t\t\tborderRight: `1px solid ${theme.palette.divider}`,\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tmaxHeight: \"90vh\",\n\t\t\theight: \"90vh\",\n\t\t\toverflow: \"auto\"\n\t\t}\n\t}));\n\tconst classes = useStyles();\n\tconst [selectedBoard, setSelectedBoard] = useState(\"hot\");\n\treturn (\n\t\t<Grid container component=\"main\" className={classes.root}>\n\t\t\t<BoardSelect setSelectedBoard = {setSelectedBoard}/>\n\t\t\t<BoardDisplay selectedBoard={selectedBoard} />\n\t\t</Grid>\n\t);\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n","import React, { useState, useEffect } from \"react\";\nimport { useArticleBoardInfoContext } from \"./ArticleBoardInfoContext\";\nimport Skeleton from \"react-loading-skeleton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport { List, ListItem, ListItemText } from \"@material-ui/core\";\n\nexport default function ArticleDisplay(props) {\n\tconst useStyles = makeStyles(theme => ({\n\t\troot: {\n\t\t\talignItems: \"center\",\n\t\t\tmaxHeight: \"90vh\",\n\t\t\theight: \"90vh\",\n\t\t\toverflow: \"auto\"\n\t\t},\n\t\tskeleton: {\n\t\t\tfontSize: \"40px\",\n\t\t\twidth: \"80%\"\n\t\t},\n\t\ttop: {\n\t\t\theight: \"20vh\",\n\t\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t\tmarginTop: \"12px\",\n\t\t\tflexWrap: \"nowrap\",\n\t\t\tpaddingLeft: \"4vw\"\n\t\t},\n\t\tgoback: {\n\t\t\twidth: \"4vw\",\n\t\t\ttop: 0,\n\t\t\tposition:'absolute',\n\t\t\tzIndex: 1001\n\t\t},\n\t\tinfo: {},\n\t\ttitleText: {\n\t\t\talignSelf: \"center\",\n\t\t\tflexBasis: \"100%\",\n\t\t\tflexGrow: \"0\",\n\t\t\tflexShrink: \"0\"\n\t\t},\n\t\tcontent: {\n\t\t\tpaddingLeft: \"4vw\",\n\t\t\tpaddingRight: \"4vw\",\n\t\t\tborderBottom: \"2px solid rgba(0, 0, 0, 0.12)\"\n\t\t},\n\t\tcomment: {},\n\t\tauthor: {\n\t\t\talignSelf: \"center\"\n\t\t},\n\t\tcommentlist: {\n\t\t\tpaddingTop: 0,\n\t\t\twidth: \"100%\"\n\t\t},\n\t\tcontentlist: {\n\t\t\twidth: \"100%\"\n\t\t},\n\t\tcommentlist_item: {\n\t\t\tpaddingLeft: \"4vw\",\n\t\t\tpaddingRight: \"2vw\"\n\t\t},\n\t\tcommentlist_type: {\n\t\t\tflexBasis: \"5%\"\n\t\t},\n\t\tcommentlist_author: {\n\t\t\tflexBasis: \"20%\"\n\t\t},\n\t\tcommentlist_text: {\n\t\t\tflexBasis: \"65%\"\n\t\t},\n\t\tcommentlist_timestamp: {\n\t\t\tflexBasis: \"10%\"\n\t\t}\n\t}));\n\n\tconst info = useArticleBoardInfoContext();\n\tconst article = info.articleContent;\n\tconst classes = useStyles();\n\n\t// Todo : image\n\tconst genContentList = content => {\n\t\tif (content) {\n\t\t\tlet res = content.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListItem disableGutters={true} className={classes.lit}>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.lit_text}\n\t\t\t\t\t\t\tprimary={item}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn <List className={classes.contentlist}>{res}</List>;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tconst genCommentList = comment => {\n\t\tif (comment) {\n\t\t\tlet res = comment.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tdisableGutters={true}\n\t\t\t\t\t\tdivider={true}\n\t\t\t\t\t\tclassName={classes.commentlist_item}\n\t\t\t\t\t\tkey={item.floor}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.commentlist_type}\n\t\t\t\t\t\t\tprimary={item.type}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.commentlist_author}\n\t\t\t\t\t\t\tprimary={item.author}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.commentlist_text}\n\t\t\t\t\t\t\tprimary={item.text}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.commentlist_timestamp}\n\t\t\t\t\t\t\tprimary={item.floor + \"F\"}\n\t\t\t\t\t\t\tsecondary={item.timestamp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn <List className={classes.commentlist}>{res}</List>;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tconst ref = React.createRef();\n\t// go back to top when load new articleContent\n\tuseEffect(() => {\n\t\tif(info.index === 1) {\n\t\t\tref.current.scrollTop = 0;\n\t\t}\n\t}, [info.index]);\n\n\treturn (\n\t\t<Grid container ref={ref} component=\"main\" className={classes.root}>\n\t\t\t<CssBaseline />\n\t\t\t{info.index ? (\n\t\t\t\t<IconButton\n\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\tinfo.setIndex(0);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={classes.goback}\n\t\t\t\t>\n\t\t\t\t\t<ChevronLeftIcon />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<Grid container className={classes.top}>\n\t\t\t\t<Grid container className={classes.info}>\n\t\t\t\t\t<Typography className={classes.author} variant={\"body1\"}>\n\t\t\t\t\t\t{article.author}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant={\"h5\"} className={classes.titleText}>\n\t\t\t\t\t\t{article.title}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography className={classes.boardName} variant={\"body2\"}>\n\t\t\t\t\t\t{article.boardname}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.timestamp} variant={\"body2\"}>\n\t\t\t\t\t\t・{article.timestamp}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.ip} variant={\"body2\"}>\n\t\t\t\t\t\t・來自：{article.ip}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid container className={classes.content}>\n\t\t\t\t{genContentList(article.content)}\n\t\t\t</Grid>\n\n\t\t\t<Grid container className={classes.comment}>\n\t\t\t\t{genCommentList(article.comment)}\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useArticleBoardInfoContext } from \"./ArticleBoardInfoContext\";\nimport { useBotContext } from \"./BotContext\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { Article } from \"ptt-client/dist/sites/ptt/model\";\nimport ArticleItem from \"./ArticleItem\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nexport default function ArticleSelect(props) {\n\tconst useStyles = makeStyles(theme => ({\n\t\troot: {\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tmaxHeight: \"90vh\",\n\t\t\theight: \"90vh\",\n\t\t\toverflow: \"auto\"\n\t\t},\n\t\tskeleton: {\n\t\t\tfontSize: \"40px\",\n\t\t\twidth: \"80%\"\n\t\t},\n\t\tinfo: {\n\t\t\tposition: \"absolute\",\n\t\t\tright: \"0\",\n\t\t\tbackgroundColor: \"rgba(0,0,0,0.1)\"\n\t\t}\n\t}));\n\t\n\tconst classes = useStyles();\n\tconst info = useArticleBoardInfoContext();\n\tconst BotContext = useBotContext();\n\n\tconst [articleItems, setArticleItems] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\tinfo.articleList.length > 0\n\t\t) {\n\t\t\t// generate list items\n\t\t\tlet res = info.articleList.map(item => {\n\t\t\t\treturn ArticleItem({ item, info, BotContext});\n      });\n\t\t\tsetArticleItems(res);\n\t\t}\n\t}, [info]);\n\n\n\tconst handleLoadMore = () => {\n\t\t// prevent default action\n\t\tif (info.articleList.length === 0)\n\t\t\treturn;\n\n\t\tconsole.log(\"handleLoadMore\", info);\n\t\tlet offset = info.articleList[info.articleList.length-1].id;\n\t\tlet query = BotContext.bot\n\t\t\t.select(Article)\n\t\t\t.where(\"boardname\", info.boardName)\n\t\t\t.where(\"id\", offset);\n\t\tBotContext.executeCommand({\n\t\t\ttype: \"select\",\n\t\t\targ: query\n\t\t}).then(res => {\n\t\t\tconsole.log(\"res\", res);\n\t\t\tif (!res) return false;\n\t\t\t// generate list items\n\t\t\tlet res_reduced = res.reduce((rtn, item) => {\n\t\t\t\tif (item.id < offset) {\n\t\t\t\t\trtn.push(item);\n\t\t\t\t}\n\t\t\t\treturn rtn;\n\t\t\t}, []);\n\t\t\tinfo.setArticleList([...info.articleList, ...res_reduced]);\n\t\t});\n\t};\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tcomponent=\"main\"\n\t\t\tclassName={classes.root}\n\t\t\tid=\"scrollableDiv\"\n\t\t>\n\t\t\t<CssBaseline />\n\t\t\t<Grid item className={classes.skeleton}>\n\t\t\t\t{info.articleList.length === 0 && <Skeleton count={3} />}\n\t\t\t</Grid>\n\t\t\t{info.articleList.length > 0 && (\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item className={classes.info}>\n\t\t\t\t\t\t看板：{info.boardName}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\tscrollableTarget=\"scrollableDiv\"\n\t\t\t\t\t\tdataLength={articleItems.length} //This is important field to render the next data\n\t\t\t\t\t\tnext={handleLoadMore}\n\t\t\t\t\t\thasMore={true}\n\t\t\t\t\t\tloader={\n\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\t\tclassName={classes.loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tendMessage={\n\t\t\t\t\t\t\t<p style={{ textAlign: \"center\" }}>\n\t\t\t\t\t\t\t\t<b>Yay! You have seen it all</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{articleItems}\n\t\t\t\t\t</InfiniteScroll>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Article } from \"ptt-client/dist/sites/ptt/model\";\n\nexport default function ArticleItem(props) {\n\tlet item = props.item;\n\tlet info = props.info;\n\tlet BotContext = props.BotContext;\n\n\tconst parseArticle = article => {\n\t\tlet articleContent = {\n\t\t\tauthor: article.author,\n\t\t\tboardname: article.boardname,\n\t\t\ttimestamp: article.timestamp,\n\t\t\tcontent: [],\n\t\t\tip: \"\",\n\t\t\tcomment: [],\n\t\t\ttitle: article.title,\n\t\t};\n\t\tlet content = article.content;\n\t\t// content starts from index 4\n\t\tfor(let i=4,state=0,floor=1;i<content.length;i++) {\n\t\t\tlet s = content[i].str; \n\t\t\tif(state===0){\n\t\t\t\tif(s.startsWith(\"※ 發信站: 批踢踢實業坊(ptt.cc)\")) {\n\t\t\t\t\tstate = 1;\n\t\t\t\t\tarticleContent.ip = s.substring(27);\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\tarticleContent.content.push(s);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// type : '推','噓','→'\n\t\t\t\tlet commentLine = {type:\"\",author:\"\",text:\"\",timestamp:\"\"};\n\t\t\t\t// find out whether it is a normal comment\n\t\t\t\tif(s.match(/[推噓→] [\\w\\d]+: .+/)) {\n\t\t\t\t\tcommentLine.floor = floor++;\n\t\t\t\t\tcommentLine.type = s[0];\n\t\t\t\t\tcommentLine.timestamp = s.substring(s.length-11);\n\t\t\t\t\tlet firstColon = s.indexOf(\":\");\n\t\t\t\t\tcommentLine.author = s.substring(2,firstColon);\n\t\t\t\t\tcommentLine.text = s.substring(firstColon+1,s.length-11);\n\t\t\t\t} else {\n\t\t\t\t\tcommentLine.text = s;\n\t\t\t\t}\n\t\t\t\tarticleContent.comment.push(commentLine);\n\t\t\t}\n\t\t}\n\t\treturn articleContent\n\t};\n\n\tconst handleClick = async () => {\n\t\tconsole.log(\"article item click:\", info, item, BotContext);\n\t\tlet query = BotContext.bot\n\t\t\t.select(Article)\n\t\t\t.where(\"boardname\", item.boardname)\n\t\t\t.where(\"id\", item.id);\n\t\tlet res = await BotContext.executeCommand({\n\t\t\ttype: \"content\",\n\t\t\targ: query\n\t\t});\n\t\tif (!res) return false;\n\t\tconsole.log(\"handleclick\", res);\n\t\t// parse article\n\t\tinfo.setArticleContent(parseArticle(res));\n\t\t// info.setArticleContent((res));\n\t\tinfo.setIndex(1);\n\t\treturn true;\n\t};\n\n\treturn (\n\t\t<ListItem\n\t\t\tonClick={handleClick}\n\t\t\tbutton\n\t\t\tkey={item.id}\n\t\t\tdivider={true}\n\t\t\tstyle={{ height: \"9vh\" }}\n\t\t>\n\t\t\t<ListItem\n\t\t\t\tstyle={{ flexBasis: \"15%\", flexGrow: \"0\", flexShrink: \"0\" }}\n\t\t\t>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={\n\t\t\t\t\t\t<Typography variant=\"body2\">{item.push}</Typography>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{item.status === \"R:\" && (\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={<Typography variant=\"body2\">RE:</Typography>}\n\t\t\t\t\t\tstyle={{ textAlign: \"right\" }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</ListItem>\n\n\t\t\t<ListItemText\n\t\t\t\tprimary={<Typography variant=\"body1\">{item.title}</Typography>}\n\t\t\t\tsecondary={\n\t\t\t\t\t<Typography variant=\"body2\">{item.author}</Typography>\n\t\t\t\t}\n\t\t\t\tstyle={{ flexBasis: \"60%\", flexGrow: \"0\", flexShrink: \"0\" }}\n\t\t\t/>\n\t\t\t<ListItemText\n\t\t\t\tprimary={<Typography variant=\"body2\">{item.date}</Typography>}\n\t\t\t\tsecondary={\n\t\t\t\t\t<Typography variant=\"body2\">id:{item.id}</Typography>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<ListItemIcon style={{ justifyContent: \"center\" }}>\n\t\t\t\t<ChevronRightIcon />\n\t\t\t</ListItemIcon>\n\t\t</ListItem>\n\t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from \"@material-ui/core\";\nimport SwipeableViews from 'react-swipeable-views';\nimport ArticleDisplay from './ArticleDisplay';\nimport ArticleSelect from './ArticleSelect';\nimport { useArticleBoardInfoContext } from \"./ArticleBoardInfoContext\";\n\n\nexport default function ArticleArea() {\n  const useStyles = makeStyles(theme => ({\n\t\troot: {\n\t\t\tmaxHeight: \"80vh\",\n\t\t\theight: \"40vh\",\n\t\t\toverflow: \"auto\"\n\t\t},\n\t\tskeleton: {\n\t\t\tfontSize: \"40px\",\n\t\t\twidth: \"80%\"\n\t\t},\n\n  }));\n  const info = useArticleBoardInfoContext(); \n  const classes = useStyles();\n\n  const handleChangeIndex = (i) =>{\n    \n    info.setIndex(i);\n  }\n  return(\n    <SwipeableViews index={info.index} onChangeIndex={handleChangeIndex}>\n      <ArticleSelect/>\n      <ArticleDisplay/>\n    </SwipeableViews>\n    \n  );\n    \n}","import React from \"react\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nconst useStyles = makeStyles(theme => ({\n\ttoolbar: {\n        borderBottom: `1px solid ${theme.palette.divider}`,\n        position: \"sticky\",\n        display: \"flex\",\n\t},\n\ttoolbarTitle: {\n\t\tflex: 1\n\t},\n\ttoolbarSecondary: {\n\t\tjustifyContent: \"space-between\",\n\t\toverflowX: \"auto\"\n\t},\n\ttoolbarLink: {\n\t\tpadding: theme.spacing(1),\n\t\tflexShrink: 0\n\t},\n\tsearch: {\n\t\tposition: \"relative\",\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tbackgroundColor: fade('#f1f3f4', 1),\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: fade('#ffffff', 1)\n\t\t},\n\t\t\n\t\twidth: \"40vw\",\n\t\t\n\t},\n\tsearchIcon: {\n\t\tpadding: theme.spacing(0, 2),\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\tpointerEvents: \"none\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\"\n\t},\n\tinputRoot: {\n\t\tcolor: \"inherit\"\n\t},\n\tinputInput: {\n\t\tpadding: theme.spacing(1, 1, 1, 0),\n\t\t// vertical padding + font size from searchIcon\n\t\tpaddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n\t\ttransition: theme.transitions.create(\"width\"),\n\t\twidth: \"100%\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\twidth: \"12ch\",\n\t\t\t\"&:focus\": {\n\t\t\t\twidth: \"20ch\"\n\t\t\t}\n\t\t}\n    },\n    title: {\n        fontFamily: 'Crimson Text',\n        fontSize: '32px',\n        marginRight: '16vw'\n    }\n}));\n\nexport default function SearchBar(props) {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Toolbar className={classes.toolbar}>\n                <div className={classes.title}>ModernPTT</div>\n\t\t\t\t<div className={classes.search}>\n\t\t\t\t\t<div className={classes.searchIcon}>\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<InputBase\n\t\t\t\t\t\tplaceholder=\"搜尋看板\"\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t\t\t\tinput: classes.inputInput\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tinputProps={{ \"aria-label\": \"search\" }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</React.Fragment>\n\t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport Login from \"./Login\";\nimport Account from \"./Account\";\n\nimport BoardArea from \"./BoardArea\";\nimport ArticleArea from \"./ArticleArea\";\nimport SearchBar from \"./SearchBar\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { UserProvider } from \"./UserContext\";\nimport { BotProvider } from \"./BotContext\";\nimport { ArticleBoardInfoProvider } from \"./ArticleBoardInfoContext\";\nimport Hidden from '@material-ui/core/Hidden';\n\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n\ttypography: {\n\t\tbody1: {\n\t\t\tfontSize: \"0.8rem\"\n\t\t},\n\t\tbody2: {\n\t\t\tfontSize: \"0.65rem\"\n\t\t},\n\t\th5: {\n\t\t\tfontSize: \"1rem\",\n\t\t\tfontWeight: \"bold\",\n\t\t}\n\t}\n});\n\nexport default function Main() {\n\treturn (\n\t\t<UserProvider>\n\t\t\t<BotProvider>\n\t\t\t\t<ArticleBoardInfoProvider>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<Container\n\t\t\t\t\t\tcomponent=\"main\"\n\t\t\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\t\t\tdisableGutters=\"true\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<SearchBar />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Hidden xsDown>\n\t\t\t\t\t\t\t<Grid item  sm={3} direction=\"column\">\n\t\t\t\t\t\t\t\t<BoardArea />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Grid item xs={12} sm={9} >\n\t\t\t\t\t\t\t\t<ArticleArea />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Container>\n\t\t\t\t</ThemeProvider>\n\t\t\t\t</ArticleBoardInfoProvider>\n\t\t\t</BotProvider>\n\t\t</UserProvider>\n\t);\n}\n","import React, { Component } from \"react\";\nimport Main from \"./components/Main\";\n\nclass App extends Component {\n\trender() {\n\t\treturn <Main />;\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Article\", {\n  enumerable: true,\n  get: function get() {\n    return _article.Article;\n  }\n});\nObject.defineProperty(exports, \"Board\", {\n  enumerable: true,\n  get: function get() {\n    return _board.Board;\n  }\n});\nObject.defineProperty(exports, \"Mail\", {\n  enumerable: true,\n  get: function get() {\n    return _mail.Mail;\n  }\n});\n\nvar _article = require(\"./article\");\n\nvar _board = require(\"./board\");\n\nvar _mail = require(\"./mail\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"decode\", {\n  enumerable: true,\n  get: function get() {\n    return _decode[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"encode\", {\n  enumerable: true,\n  get: function get() {\n    return _encode[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"keymap\", {\n  enumerable: true,\n  get: function get() {\n    return _keymap[\"default\"];\n  }\n});\n\nvar _decode = _interopRequireDefault(require(\"./decode\"));\n\nvar _encode = _interopRequireDefault(require(\"./encode\"));\n\nvar _keymap = _interopRequireDefault(require(\"./keymap\"));","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dbcswidth = dbcswidth;\nexports.getWidth = getWidth;\nexports.indexOfWidth = indexOfWidth;\nexports.substrWidth = substrWidth;\n\nvar _wcwidth = _interopRequireDefault(require(\"wcwidth\"));\n\nfunction dbcswidth(str) {\n  return str.split('').reduce(function (sum, c) {\n    return sum + (c.charCodeAt(0) > 255 ? 2 : 1);\n  }, 0);\n}\n/**\n* calculate width of string.\n* @params {string} widthType - calculate width by wcwidth or String.length\n* @params {string} str - string to calculate\n*/\n\n\nfunction getWidth(widthType, str) {\n  switch (widthType) {\n    case 'length':\n      return str.length;\n\n    case 'wcwidth':\n      return (0, _wcwidth[\"default\"])(str);\n\n    case 'dbcs':\n      return dbcswidth(str);\n\n    default:\n      throw new Error(\"Invalid widthType \\\"\".concat(widthType, \"\\\"\"));\n  }\n}\n/**\n* calculate the position that the prefix of string is a specific width\n* @params {string} widthType - calculate width by wcwidth or String.length\n* @params {string} str - string to calculate\n* @params {number} width - the width of target string\n*/\n\n\nfunction indexOfWidth(widthType, str, width) {\n  if (widthType === 'length') {\n    return Math.min(width, str.length);\n  }\n\n  for (var i = 0; i <= str.length; i++) {\n    if (getWidth(widthType, str.substr(0, i)) > width) {\n      return i - 1;\n    }\n  }\n\n  return str.length;\n}\n/**\n* extract parts of string, beginning at the character at the specified position,\n* and returns the specified width of characters. if the character is incomplete,\n* it will be replaced by space.\n* @params {string} widthType - calculate width by wcwidth or String.length\n* @params {string} str - string to calculate\n* @params {number} startWidth - the beginning position of string\n* @params {number} width - the width of target string\n*/\n\n\nfunction substrWidth(widthType, str, startWidth, width) {\n  var ignoreWidth = typeof width === 'undefined';\n  var length = width;\n  var start = startWidth;\n  var prefixSpace = 0,\n      suffixSpace = 0;\n\n  if (widthType !== 'length') {\n    start = indexOfWidth(widthType, str, startWidth);\n\n    if (getWidth(widthType, str.substr(0, start)) < startWidth) {\n      start += 1;\n      prefixSpace = Math.max(getWidth(widthType, str.substr(0, start)) - startWidth, 0);\n    }\n\n    if (!ignoreWidth) {\n      length = indexOfWidth(widthType, str.substr(start), width - prefixSpace);\n      suffixSpace = Math.min(width, getWidth(widthType, str.substr(start))) - (prefixSpace + getWidth(widthType, str.substr(start, length)));\n    }\n  }\n\n  var substr = ignoreWidth ? str.substr(start) : str.substr(start, length);\n  return ' '.repeat(prefixSpace) + substr + ' '.repeat(suffixSpace);\n}"],"sourceRoot":""}